(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8830],{70131:function(e,t,n){"use strict";n.d(t,{g:function(){return bt}});var a=n(85893),r=n(67294),s=n(69977),l=n(33299),i=n(25675),o=n.n(i),c=n(64343),d=n(58771),u=n(71722),m=n(11163),x=n.n(m),f=n(86896),p=n(44012),h=n(95591),v=n(45332),g={route:{}};g.route.match=function(e,t){if(t.equals)for(var n=0;n<t.equals.length;n++)if(e.pathname===t.equals[n])return!0;if(t.startsWith)for(var a=0;a<t.startsWith.length;a++)if(e.pathname.startsWith(t.startsWith[a]))return!0;if(t.includes)for(var r=0;r<t.includes.length;r++)if(e.pathname.includes(t.includes[r]))return!0;return!1},g.pick=function(e,t){for(var n={},a=0;a<t.length;a++){var r=t[a];n[r]=e[r]}return n},g.parse=JSON.parse,g.stringify=JSON.stringify;var b=g,j=["active","trialing"],y={"Pro Creator":"963152506924437514","Wave 1":"963006988827099146",Team:"694005289783132171",Moderator:"943142291298729984","Power User":"959946285773889626",Newbie:"951481232431136799","DM Power":"942185773925560321",Gallery:"965159233295355905",VIP:"972219691810578442",Guide:"967853397678112799",community:"1020387960471945306","10k":"976306628917882881","25k":"1025526414436479046"},w=b.pick(y,b.parse('[ "Team", "Dev" ]')),N=(b.pick(y,["Team","Moderator","Guide","VIP"]),b.pick(y,["Team","Moderator","community"])),Z=b.pick(y,["Team","community","Moderator","Guide"]),k=b.pick(y,["Team","Moderator","community","Guide","DM Power","Private Powers","Corporate Member","VIP"]),S={private:{name:"manageSub.private.name",slug:"private",prod_id:"prod_Lcs334C8pujpZS",price_id:"price_1KvcJBJavIy9pYdOw7Cr2v4t",price:20,metered:!1,enterprise:!1},play:{name:"manageSub.standard.name",slug:"play",prod_id:"prod_LaIPsl9yIhRp3W",price_id:"price_1Kt7oXJavIy9pYdO5frRoe0k",metered_price_id:"price_1Kt7oXJavIy9pYdOenmximUG",price:30,metered:!0,meteredPrice:3,includedHours:15,enterprise:!1},basic:{name:"manageSub.basic.name",slug:"basic",prod_id:"prod_Lgk8feHodgmpv7",price_id:"price_1KzMebJavIy9pYdOo9fUbtW2",metered_price_id:"price_1KzMebJavIy9pYdOFwvnw3fg",price:10,metered:!0,meteredPrice:4,includedHours:3.3333333333,enterprise:!1},corporate:{name:"manageSub.corporate.name",slug:"corporate",prod_id:"prod_LirecKjf376lCz",price_id:"price_1L1PvUJavIy9pYdOtzA468zl",metered_price_id:"price_1L1PvUJavIy9pYdOFZr7QOTS",price:600,metered:!0,meteredPrice:4,includedHours:120,enterprise:!0}},_=(Object.values(w),Object.values(N),Object.values(Z),Object.values(k),Object.values(S).map((function(e){return e.prod_id})),Object.values(S).map((function(e){return e.price_id})),n(97581));function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){P(e,t,n[t])}))}return e}var M=function(e){var t=e.text,n=e.type,r=function(e){switch(n){case"success":return(0,a.jsx)(c.Z,{className:"text-green-600 ".concat(e.className)});case"error":return(0,a.jsx)(d.Z,{className:"text-red-600 ".concat(e.className)});case"warning":return(0,a.jsx)(d.Z,{className:"text-yellow-500 ".concat(e.className)});default:return(0,a.jsx)(u.Z,{className:"text-blue-700 animate-spin transform rotate-180 ".concat(e.className)})}};return(0,a.jsxs)("div",{className:"flex gap-4 justify-center items-center p-3 border-dashed w-full border ".concat(function(){switch(n){case"success":return"border-green-900/70";case"error":return"border-red-900/80";case"loading":default:return"border-blue-900/70";case"warning":return"border-yellow-800"}}()," rounded-lg sm:justify-between"),children:[(0,a.jsx)("h3",{className:"text-base font-normal text-slate-100",children:t}),(0,a.jsx)("div",{className:"flex justify-center items-center w-6 h-6 rounded-full",children:(0,a.jsx)(r,{className:"w-6 h-6 text-white","aria-hidden":"true"})})]})};function O(e){var t=e.sessionId,n=e.setConfirmData,s=e.hash,l=(0,r.useState)(!0),i=l[0],o=l[1],c=(0,r.useState)(!1),d=c[0],u=c[1],m=(0,h.ZP)("/api/checkout/checkout-sessions/".concat(t),v.EE),g=m.data,b=m.error,y=(0,h.ZP)((function(){return e=g.subscription,"/api/checkout/subscriptions/".concat(e);var e}),v.EE,{refreshInterval:d?0:1e3}),w=y.data,N=y.error;(0,r.useEffect)((function(){"paid"===(null===g||void 0===g?void 0:g.payment_status)&&n(g)}),[g]),(0,r.useEffect)((function(){if(w&&w.subscription){var e=w.subscription.status;j.includes(e)&&u(!0)}}),[w]);var Z=(0,f.Z)();if(b||N)return(0,a.jsx)("div",{className:"flex justify-center items-center w-full h-full",children:(0,a.jsx)("h3",{className:"text-base font-normal text-slate-300",children:(0,a.jsx)(p.Z,{id:"confirmation.thereWasAnError"})})});var k=function(){var e={text:Z.formatMessage({id:"confirmation.subscriptionConfirming"}),type:"loading"};return"active"===(null===w||void 0===w?void 0:w.status)&&(e={text:Z.formatMessage({id:"confirmation.subscriptionActivated"}),type:"success"}),"unpaid"===(null===w||void 0===w?void 0:w.payment_status)&&(e={text:Z.formatMessage({id:"confirmation.subscriptionUnsuccessful"}),type:"error"}),(0,a.jsx)(M,C({},e))},S=function(){var e={text:Z.formatMessage({id:"confirmation.paymentConfirming"}),type:"loading"};return"paid"===(null===g||void 0===g?void 0:g.payment_status)&&(e={text:Z.formatMessage({id:"confirmation.paymentSuccessful"}),type:"success"}),"unpaid"===(null===g||void 0===g?void 0:g.payment_status)&&(e={text:Z.formatMessage({id:"confirmation.paymentUnsuccessful"}),type:"error"}),b&&(e={text:Z.formatMessage({id:"confirmation.paymentError"}),type:"warning"}),(0,a.jsx)(M,C({},e))},P={open:i,setOpen:o,title:Z.formatMessage({id:"confirmation.title"}),ActionButton:function(){return(0,a.jsx)("button",{type:"button",className:"inline-flex justify-center py-2 px-4 w-full text-base font-medium text-white disabled:text-gray-900 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 rounded-md border border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shadow-sm disabled:cursor-not-allowed sm:text-base",onClick:function(){s?x().push("/checkout/plans/?hash=".concat(s),void 0,{shallow:!0}):x().push("/account",void 0,{shallow:!0});var e=new Event("visibilitychange");document.dispatchEvent(e),o(!1)},disabled:!("paid"===(null===g||void 0===g?void 0:g.payment_status)&&"active"===(null===w||void 0===w?void 0:w.status)),children:(0,a.jsx)(p.Z,{id:"confirmation.close"})})},closeCallback:function(){return window.location.replace(s?"".concat("https://www.midjourney.com","/checkout/plans/?hash=").concat(s):"".concat("https://www.midjourney.com","/account/"))}};return(0,a.jsxs)(_.Z,{modalBaseProps:P,children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)("p",{className:"text-base text-left text-gray-500",children:"paid"===(null===g||void 0===g?void 0:g.payment_status)&&"active"===(null===w||void 0===w?void 0:w.status)?(0,a.jsx)(p.Z,{id:"confirmation.thankYou",values:{discord:function(e){return(0,a.jsx)("a",{href:Z.formatMessage({id:"url.discordInvite"}),className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0",children:e})}}}):"unpaid"===(null===g||void 0===g?void 0:g.payment_status)?(0,a.jsx)(p.Z,{id:"confirmation.pleaseWaitAFewMinutes",values:{support:function(e){return(0,a.jsx)("a",{href:"https://discord.com/channels/662267976984297473/958069758211797092",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0",children:e})}}}):(0,a.jsx)(p.Z,{id:"confirmation.pleaseWaitWhile",values:{support:function(e){return(0,a.jsx)("a",{href:"https://discord.com/channels/662267976984297473/958069758211797092",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0 focus:ring-0",children:e})}}})})}),(0,a.jsx)(S,{}),(0,a.jsx)("div",{className:"h-4"}),(0,a.jsx)(k,{})]})}var B=n(63519),E=n(58057),A=n(47891),I=(n(83454),n(44304)),T=n(83195),W=n(36090),D=function(e){var t=e.planKey,n=e.priceKey,r=e.className,s=e.type,l=e.scheduled,i=(0,A.m)().setModalProps;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(W.Z,{onClick:function(){i({type:"upgrade",data:{planKey:t,priceKey:n,type:s}}),(0,I.B)("view_".concat(s),{category:"Billing",label:s,plan:t})},className:"flex relative justify-center items-center py-3 px-5 w-full text-base font-medium text-white bg-blue-900 hover:bg-blue-900/50 rounded-md border-2 border-transparent capitalize ".concat(r," ").concat(l&&"pointer-events-none bg-transparent border-blue-900"),"aria-describedby":"tier-standard",children:s})})};function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){var t,n=e.tier,r=e.viewTab,s=(0,A.m)(),l=s.userData,i=s.userPlanRecurring,o=s.changing,c=s.setModalProps,d=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){F(e,t,n[t])}))}return e}({},l).status,u=(0,f.Z)(),m=o&&l.next.plan.key===n.key&&r===l.next.plan.price.key,x={basic:"!bg-teal-600",standard:"!bg-indigo-600",pro:"!bg-amber-600"}[n.key];return r!==i||!n.current||"active"!==d&&"past_due"!==d?m?(0,a.jsxs)(W.Z,{onClick:function(){var e;c({type:"unchange"}),(0,I.B)("view_cancelchange",{category:"Billing",label:"cancel change",plan:n.key,price:null===(e=null===n||void 0===n?void 0:n.price[null===n||void 0===n?void 0:n.credit_period])||void 0===e?void 0:e.price,period:n.credit_period})},className:"flex relative group justify-center items-center py-3 px-5 w-full text-base font-medium text-white hover:!bg-blue-900 rounded-md border-2 border-transparent capitalize border-blue-900\n        }","aria-describedby":"tier-standard",children:[(0,a.jsx)("span",{className:"group-hover:hidden",children:(0,a.jsx)(p.Z,{id:"manageSub.changeScheduled"})}),(0,a.jsx)("span",{className:"hidden group-hover:block",children:(0,a.jsx)(p.Z,{id:"manageSub.cancelScheduledChange"})})]}):"active"===d&&!n.current||n.current&&r!==i?(0,a.jsx)(D,{planKey:n.key,priceKey:null===(t=n.price[r])||void 0===t?void 0:t.key,scheduled:m,type:m&&u.formatMessage({id:"manageSub.changeScheduled"})||n.level>(null===l||void 0===l?void 0:l.plan.level)&&u.formatMessage({id:"manageSub.upgradePlan"})||n.level<(null===l||void 0===l?void 0:l.plan.level)&&u.formatMessage({id:"manageSub.downgradePlan"})||n.current&&u.formatMessage({id:"manageSub.changeCommitment"})}):(0,a.jsx)("div",{className:"rounded-md shadow ",children:(0,a.jsx)(T.Z,{planKey:n.key,priceKey:r,period:n.credit_period,className:x})}):(0,a.jsx)(W.Z,{disabled:!0,className:"inline-flex items-center py-3 px-5 !text-base text-white rounded-md border-2 border-transparent shadow-sm pointer-events-none sm:text-sm ".concat(x),children:(0,a.jsx)(p.Z,{id:"manageSub.active"})})};function q(e){var t,n,r,s,l=e.tier,i=e.cancelling,o=e.viewTab,c=e.setViewTab,d=e.hash,u=(0,A.m)(),m=u.userPlanRecurring,x=u.status,f=u.subbed,h=u.privateSub,g={basic:"!text-teal-400",standard:"!text-indigo-400",pro:"!text-amber-400"}[l.key],b={basic:"from-teal-700/10",standard:"from-indigo-700/10",pro:"from-amber-700/10"}[l.key];return(0,a.jsx)("div",{className:"relative col-span-1 max-w-7xl",role:"tabpanel","aria-label":"".concat(o,"ly ").concat(l.key),children:(0,a.jsxs)("div",{className:"overflow-hidden h-full mx-auto max-w-lg bg-darkBlue-500/20 rounded-2xl border-2 transition-[border] flex-col ".concat(f&&l.current?"active"===x||null==x?"border-emerald-700/30":"border-red-500/30":"border-slate-800/30 !border","  shadow-lg lg:flex lg:max-w-none"),children:[(0,a.jsxs)("div",{className:"relative py-8 px-6 !pb-8 text-left bg-uiBlue-500/5 lg:flex lg:flex-col lg:shrink-0 lg:justify-start lg:p-12",children:[(0,a.jsx)("div",{className:(0,v.CN)("absolute top-0 left-0 -z-10 w-full h-full bg-gradient-to-br  via-transparent",b)}),(0,a.jsx)("h3",{className:"text-2xl font-medium text-slate-400 capitalize sm:text-2xl",children:(0,a.jsxs)("span",{className:g,children:[(0,a.jsx)(p.Z,{id:null!==(s=l.key)&&void 0!==s?s:"missing"}),(0,a.jsx)(p.Z,{id:"manageSub.plan"})]})}),(0,a.jsxs)("div",{className:"flex justify-start items-baseline mt-4 text-5xl font-extrabold text-slate-100",children:[function(e,t){var n="$";return Number.isNaN(e)||void 0===e||("year"===t?n+=Math.floor(e/100/12):"month"===t&&(n+=e/100)),n}(null===(t=null===l||void 0===l?void 0:l.price[o])||void 0===t?void 0:t.cents,o),(0,a.jsx)("span",{className:"ml-2 text-xl font-medium text-gray-500",children:(0,a.jsx)(p.Z,{id:"manageSub.perMonth"})})]}),(0,a.jsxs)("p",{className:"text-lg font-medium leading-6 text-slate-300",children:["year"===o?(0,a.jsx)(p.Z,{id:"manageSub.billedYearly"}):(0,a.jsx)(p.Z,{id:"manageSub.billedMonthly"})," "]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)("div",{className:"relative rounded-md shadow",children:(0,a.jsx)(R,{tier:l,subbed:f,viewTab:o,userPlanRecurring:m,privateSub:h,hash:d,status:x,cancelling:i})})}),(0,a.jsxs)("button",{onClick:function(){return c("month"===o?"year":"month")},className:"p-1 flex items-center gap-1 justify-center ml-1 mt-2 px-1.5 text-sm hover:underline font-medium text-blue-700 text-center w-full",children:["year"===o?(0,a.jsx)(p.Z,{id:"manageSub.switchToMonthlyBilling"}):(0,a.jsx)(p.Z,{id:"manageSub.saveWithAnnualBilling"})," ",(0,a.jsx)(B.Z,{height:12,className:"opacity-80"})]})]}),(0,a.jsx)("div",{className:"flex-1 py-8 px-6 lg:p-12 lg:py-8",children:(0,a.jsx)("ul",{role:"list",className:"flex flex-col border-t divide-y divide-slate-800 lg:border-t-0",children:null===l||void 0===l||null===(n=l.copy)||void 0===n||null===(r=n.features)||void 0===r?void 0:r.map((function(e,t){return(0,a.jsxs)("li",{className:"flex items-center py-4 lg:col-span-1 ",children:[(0,a.jsx)("div",{className:"shrink-0",children:(0,a.jsx)(E.Z,{height:18,className:" text-emerald-600","aria-hidden":"true"})}),(0,a.jsx)("p",{className:"ml-3 text-base text-slate-300",children:(0,a.jsx)(p.Z,{id:null!==e&&void 0!==e?e:"missing"})})]},"".concat(e,"-").concat(t))}))})})]})})}var H=function(e){var t;return(0,a.jsx)("div",{className:"",children:(0,a.jsx)("div",{className:"py-12 pb-16",children:(0,a.jsx)("div",{className:"flex grid relative flex-wrap gap-8 items-auto",style:{gridTemplateColumns:"repeat(auto-fit, minmax(325px, 1fr))"},"aria-label":"".concat(e.viewTab,"ly plans"),children:null===(t=e.tiers)||void 0===t?void 0:t.filter((function(e){return!e.legacy})).map((function(t,n){return(0,a.jsx)(q,{tier:t,cancelling:e.cancelling||!1,hash:e.hash,viewTab:e.viewTab,setViewTab:e.setViewTab},"".concat(t.id,"-").concat(n))}))})})})};function L(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var z=function(e){var t,n=e.viewTab,r=void 0===n?"year":n,s=e.setViewTab,l=e.className;return(0,a.jsx)("div",{className:"select-none relative px-4 mx-auto w-full max-w-2xl sm:px-6 lg:px-8 ".concat(l),children:(0,a.jsx)("div",{className:"block",children:(0,a.jsx)("nav",{className:"flex relative z-0 gap-1 p-1 bg-darkBlue-500 rounded-2xl shadow","aria-label":"Tabs",role:"tablist",children:[{name:"manageSub.yearlyBilling",key:"year",tag:"20% off"},{name:"manageSub.monthlyBilling",key:"month"}].map((function(e,n){return(0,a.jsx)("a",{className:L(e.key===r?"text-slate-100 bg-uiBlue-500":"text-slate-400 hover:text-slate-200","group relative overflow-hidden min-w-0 flex-1   p-3 text-base font-medium text-center cursor-pointer rounded-xl hover:bg-uiBlue-500/50 focus:z-10 active:bg-uiBlue-500/70"),onClick:function(){s(e.key)},"aria-current":e.key===r?"page":void 0,role:"tab",children:(0,a.jsx)("span",{children:(0,a.jsx)(p.Z,{id:null!==(t=e.name)&&void 0!==t?t:"missing"})})},e.key)}))})})})},U=n(34051),Y=n.n(U),$=n(56365),K=n(60670),G=n(12197);function V(e,t,n,a,r,s,l){try{var i=e[s](l),o=i.value}catch(c){return void n(c)}i.done?t(o):Promise.resolve(o).then(a,r)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function l(e){V(s,a,r,l,i,"next",e)}function i(e){V(s,a,r,l,i,"throw",e)}l(void 0)}))}}var X=function(e){var t=e.invoices;return t&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"flex flex-col gap-2",children:t.map((function(e){var t,n=new Date(1e3*e.created).toLocaleDateString();return(0,a.jsxs)(K.Z,{href:e.hosted_invoice_url,target:"_blank",className:"group flex flex-col gap-1 justify-between items-start !p-4 w-full bg-blue-900/10 hover:bg-blue-900/30 rounded-xl border border-blue-900 hoverUpSmall",rel:"noreferrer",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 w-full",children:[(0,a.jsx)("h3",{className:"flex justify-start text-base font-normal text-slate-200",children:n}),(0,a.jsxs)("div",{className:"flex gap-2 justify-end items-center font-normal text-slate-400 group-hover:underline",children:[(0,a.jsx)(p.Z,{id:"invoice.payNow"})," ",(0,a.jsx)($.Z,{height:18})]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between w-full",children:[(0,a.jsxs)("div",{className:"w-full text-sm font-normal font-medium text-left text-slate-500 capitalize",children:[(0,a.jsx)("span",{className:" text-slate-400",children:"Amount Due:"})," ",(0,a.jsxs)("span",{className:"capitalize",children:[e.subtotal/100," ",e.currency.toUpperCase()]})]}),(0,a.jsxs)("div",{className:"w-full text-sm font-normal font-medium text-right text-slate-500 capitalize",children:[(0,a.jsx)("span",{className:" text-slate-400",children:"Reason:"})," ",(0,a.jsx)("span",{className:"capitalize",children:null===(t=e.billing_reason)||void 0===t?void 0:t.replaceAll("_"," ")})]})]})]},e.id)}))})})};function Q(e,t){return(0,v.Gf)("".concat("https://www.midjourney.com","/api/checkout-discord/subscriptions/get-invoices/"),{stripe_id:e,hash:t})}function ee(e){var t=e.stripe_id,n=e.setOpen,s=e.open,l=e.hash,i=(0,r.useState)(),o=i[0],c=i[1];(0,r.useEffect)((function(){function e(){return(e=J(Y().mark((function e(){var n;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t,l);case 2:n=e.sent,c(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var d={open:s,setOpen:n,title:(0,f.Z)().formatMessage({id:"invoice.title"}),type:"warning",showClose:!0};return(0,a.jsxs)(_.Z,{modalBaseProps:d,children:["list"===(null===o||void 0===o?void 0:o.object)&&(0,a.jsx)(X,{invoices:o.data}),"list"!==(null===o||void 0===o?void 0:o.object)&&(0,a.jsx)("div",{className:"my-24 text-xl text-center text-white",children:(0,a.jsx)(G.gb,{color:"",height:"24",className:"animate-spin"})})]})}var te=function(e){var t=e.stripe_id,n=e.className,s=e.hash,l=(0,r.useState)(!1),i=l[0],o=l[1];return(0,a.jsxs)(a.Fragment,{children:[i&&(0,a.jsx)(ee,{open:i,setOpen:o,stripe_id:t,hash:s},"".concat(t,"-modal")),(0,a.jsx)(W.Z,{onClick:function(){return o(!0)},className:"flex relative justify-center items-center py-3 px-5 w-full text-base font-medium text-white bg-red-900 hover:!bg-red-800/50 rounded-md border border-transparent ".concat(n),"aria-describedby":"tier-standard",children:(0,a.jsx)(p.Z,{id:"invoice.viewOverdueInvoices"})})]})},ne=n(38264);function ae(e){var t=e.text,n=e.type,r=e.className,s=e.children,l=function(e){switch(n){case"success":return(0,a.jsx)(c.Z,{className:"text-emerald-600 ".concat(e.className)});case"error":return(0,a.jsx)(d.Z,{className:"text-red-600 ".concat(e.className)});case"warning":return(0,a.jsx)(d.Z,{className:"text-yellow-500 ".concat(e.className)});case"info":return(0,a.jsx)(ne.Z,{className:"text-blue-600 ".concat(e.className)});default:return(0,a.jsx)(u.Z,{className:"text-blue-700 animate-spin transform rotate-180 ".concat(e.className)})}};return(0,a.jsxs)("div",{className:"flex gap-4 text-left justify-center items-center p-3 border-dashed w-full border-[1.5px] ".concat(function(){switch(n){case"success":return"border-emerald-900/70 text-emerald-500";case"error":return"border-red-900/80 text-red-500";case"loading":default:return"border-blue-900/70 text-blue-500";case"warning":return"border-yellow-800 text-yellow-500"}}()," rounded-lg bg-darkBlue-900/50 .text-slate-100 sm:justify-between ").concat(r),children:[(0,a.jsx)("h3",{className:"text-base font-normal ",children:t||s}),(0,a.jsx)("div",{className:"flex justify-center items-center w-6 h-6 rounded-full",children:(0,a.jsx)(l,{className:"w-6 h-6","aria-hidden":"true"})})]})}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function se(e,t,n,a,r,s,l){try{var i=e[s](l),o=i.value}catch(c){return void n(c)}i.done?t(o):Promise.resolve(o).then(a,r)}function le(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function l(e){se(s,a,r,l,i,"next",e)}function i(e){se(s,a,r,l,i,"throw",e)}l(void 0)}))}}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,s=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(s.push(a.value),!t||s.length!==t);l=!0);}catch(o){i=!0,r=o}finally{try{l||null==n.return||n.return()}finally{if(i)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ce=function(e){var t=e.currentStatus,n=e.data,r={text:"Update confirming...",type:"loading"};return"confirmed"===t&&(r={text:"Update confirmed",type:"success"}),"error"===t&&(r={text:"Error: ".concat(null===n||void 0===n?void 0:n.error.message),type:"error"}),(0,a.jsx)(ae,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){ie(e,t,n[t])}))}return e}({},r))},de=function(e){var t=e.currentStatus,n=e.data,r=(0,f.Z)();return(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsx)("div",{className:"text-left",children:(0,a.jsx)("p",{className:"text-base text-gray-500",children:"confirmed"===t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(p.Z,{id:"cancel.success"})}),(0,a.jsx)(p.Z,{id:"cancel.yourChangeHasBeenConfirmed"})]}):"error"===t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(p.Z,{id:"cancel.somethingWentWrong"})}),(0,a.jsx)(p.Z,{id:"cancel.pleaseCheckTheError",values:{support:function(e){return(0,a.jsx)("a",{className:"font-medium text-blue-600 hover:text-blue-500",href:r.formatMessage({id:"url.supportChannel"}),target:"_blank",rel:"noreferrer",children:e})}}})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(p.Z,{id:"cancel.processing"})}),(0,a.jsx)(p.Z,{id:"cancel.pleaseWaitWhile",values:{support:function(e){return(0,a.jsx)("a",{className:"font-medium text-blue-600 hover:text-blue-500",href:r.formatMessage({id:"url.supportChannel"}),target:"_blank",rel:"noreferrer",children:e})}}})]})})}),(0,a.jsx)(ce,{currentStatus:t,data:n})]})};function ue(e){return(0,v.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/plan/uncancel/"),{hash:e})}function me(e,t){return(0,v.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/plan/cancel/"),{when:e,hash:t})}function xe(e){return(0,v.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/plan/cancel/estimate/"),{hash:e})}function fe(e){var t,n,s=e.setOpen,l=e.open,i=(0,A.m)(),o=(i.userData,i.cancelling),c=i.hash,d=i.plans,u=(0,r.useState)(!1),x=(u[0],u[1],(0,r.useState)(!1)),h=x[0],g=(x[1],(0,r.useState)(null)),b=g[0],j=g[1],y=(0,m.useRouter)(),w=(0,r.useState)(),N=w[0],Z=w[1],k=(0,r.useState)("end_of_period"),S=k[0],P=k[1],C=(0,r.useState)("loading"),M=C[0],O=C[1],B=(0,r.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(M)}),[M]),E=(0,r.useMemo)((function(){var e={key:"n/a"};if(d&&Array.isArray(d)){var t=oe(d.filter((function(e){return e.current})),1)[0];t&&(e=t)}return e}),[d]);(0,r.useEffect)((function(){function e(){return(e=le(Y().mark((function e(){var t;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(c);case 2:(null===(t=e.sent)||void 0===t?void 0:t.usage)&&(Z(t),O("checking"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,r.useEffect)((function(){function e(){return(e=le(Y().mark((function e(){var t;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!B("confirming")){e.next=15;break}if((0,I.B)("subscription_".concat(o?"un":"","cancel"),{timeframe:S,plan:null===E||void 0===E?void 0:E.key}),o){e.next=9;break}return e.next=6,me(S,c);case 6:t=e.sent,e.next=12;break;case 9:return e.next=11,ue(c);case 11:t=e.sent;case 12:(null===t||void 0===t?void 0:t.ok)||!t.error?O("confirmed"):O("error"),j(t);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[o,B,h,c,S]);var T=(0,f.Z)(),D=(0,r.useMemo)((function(){return B("confirming")?function(){}:B("confirmed")?function(){return y.reload()}:null}),[B,y]),F={open:l,setOpen:s,title:o?T.formatMessage({id:"cancel.wereHappyToSeeYouAgain"}):T.formatMessage({id:"cancel.wereSorryToSeeYouGo"}),ActionButton:function(){return!B("confirming","confirmed")||B("error")?(0,a.jsxs)(W.Z,{className:(0,v.CN)("inline-flex justify-center py-2 px-4 w-full min-h-[3rem] text-base font-medium text-white disabled:text-gray-900  disabled:!bg-gray-600 rounded-md border border-transparent focus:outline-none focus:ring-2  focus:ring-offset-2 shadow-sm disabled:cursor-not-allowed sm:text-base",o?"bg-emerald-800 hover:!bg-emerald-700 focus:ring-emerald-700":"bg-red-800 hover:!bg-red-700 focus:ring-red-700"),disabled:!(null!=N||o),onClick:function(){O("confirming")},children:[!B("error")&&(o?(0,a.jsx)(p.Z,{id:"cancel.confirmUncancellation"}):(0,a.jsx)(p.Z,{id:"cancel.confirmCancellation"})),B("error")?"Try Again":""]}):(0,a.jsx)(W.Z,{className:"inline-flex justify-center py-2 px-4 w-full text-base font-medium text-white hover:text-white bg-blue-600 hover:bg-blue-800 rounded-md border border-transparent focus:outline-none focus:ring-0 sm:text-base disabled:text-gray-900 disabled:!bg-gray-600 disabled:cursor-not-allowed min-h-[3rem]",onClick:function(){B("confirmed")&&y.reload()},disabled:!B("confirmed"),children:B("confirmed")?(0,a.jsx)(p.Z,{id:"cancel.close"}):(0,a.jsx)(p.Z,{id:"cancel.pleaseWait"})})},BackButton:function(){return B("confirming","confirmed")?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(W.Z,{className:"inline-flex justify-center py-2 px-4 w-full min-h-[3rem] text-base font-medium text-slate-500 hover:text-white hover:underline hover:!bg-white/0 rounded-md border border-transparent hover:border-slate-700 focus:outline-none focus:ring-0 transition sm:text-base",onClick:function(){return s(!1)},children:(0,a.jsx)(p.Z,{id:"cancel.back"})})},showClose:!0,closeCallback:D},R=[{id:"end_of_period",title:T.formatMessage({id:"cancel.cancelAtEndOfSub"})},{id:"now",title:T.formatMessage({id:"cancel.cancelImmediatelyWithRefund"})}];return(0,a.jsxs)(_.Z,{modalBaseProps:F,children:[B("confirming","error","confirmed")&&(0,a.jsx)(de,{data:b,currentStatus:M}),!o&&(null===N||void 0===N||null===(t=N.can_cancel)||void 0===t?void 0:t.now)&&B("checking")&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 justify-start text-left text-slate-300 items-left",children:[(0,a.jsx)("h2",{className:"text-lg text-blue-400",children:(0,a.jsx)(p.Z,{id:"cancel.youAreEligibleForAFullRefund"})}),(0,a.jsx)("p",{className:"",children:(0,a.jsx)(p.Z,{id:"cancel.youMayChooseToCancelImmediately"})}),(0,a.jsxs)("fieldset",{className:"mt-4",onChange:function(e){return P(e.target.id)},children:[(0,a.jsx)("legend",{className:"sr-only",children:"Cancel timeframe"}),(0,a.jsx)("div",{className:"space-y-4",children:R.map((function(e){return(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:e.id,name:"cancel-timeframe",type:"radio",defaultChecked:e.id===S,className:"w-4 h-4 text-indigo-600 bg-red-500 border-gray-300 focus:ring-indigo-500 cursor-pointer"}),(0,a.jsx)("label",{htmlFor:e.id,className:"block ml-3 text-base font-medium text-slate-200 cursor-pointer",children:e.title})]},e.id)}))})]})]}),o&&B("checking")&&(0,a.jsx)("div",{className:"flex flex-col gap-6 my-2 text-left",children:(0,a.jsx)("p",{className:"text-slate-200",children:(0,a.jsx)(p.Z,{id:"cancel.ifYouProceedNotCancel",values:{highlight:function(e){return(0,a.jsx)("span",{className:"font-medium text-blue-400 italic underline",children:e})}}})})}),!o&&!(null===N||void 0===N||null===(n=N.can_cancel)||void 0===n?void 0:n.now)&&B("checking")&&(0,a.jsxs)("div",{className:"flex flex-col gap-6 my-2 text-left",children:[(0,a.jsx)("p",{className:"text-slate-200",children:(0,a.jsx)(p.Z,{id:"cancel.ifYouProceedCancel",values:{highlight:function(e){return(0,a.jsx)("span",{className:"font-medium text-blue-400 italic underline",children:e})}}})}),(0,a.jsxs)("p",{className:"flex gap-2 items-start p-2 italic text-slate-400 rounded-lg border border-blue-800",children:[(0,a.jsx)(ne.Z,{height:20,className:"inline shrink-0 text-blue-600"}),(0,a.jsx)(p.Z,{id:"cancel.ifYouChangeYourMind"})]})]}),B("loading")&&(0,a.jsx)("div",{className:"my-24 text-xl text-center text-white",children:(0,a.jsx)(G.gb,{color:"",height:"24",className:"animate-spin"})})]})}var pe=n(10822);function he(e,t,n,a,r,s,l){try{var i=e[s](l),o=i.value}catch(c){return void n(c)}i.done?t(o):Promise.resolve(o).then(a,r)}function ve(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function l(e){he(s,a,r,l,i,"next",e)}function i(e){he(s,a,r,l,i,"throw",e)}l(void 0)}))}}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be=function(e){var t=e.currentStatus,n=e.data,r=(0,f.Z)(),s={text:r.formatMessage({id:"credit.purchaseConfirming"}),type:"loading"};return"confirmed"===t&&(s={text:r.formatMessage({id:"credit.purchaseConfirmed"}),type:"success"}),"error"===t&&(s={text:"".concat(r.formatMessage({id:"credit.error"}),": ").concat(null===n||void 0===n?void 0:n.error.message),type:"error"}),(0,a.jsx)(ae,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){ge(e,t,n[t])}))}return e}({},s))},je=function(e){var t=e.currentStatus,n=e.data,r=(0,f.Z)();return(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsx)("div",{className:"text-left",children:(0,a.jsx)("p",{className:"text-base text-gray-500",children:"confirmed"===t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(p.Z,{id:"credit.success"})}),(0,a.jsx)(p.Z,{id:"credit.yourPurchaseHasBeenConfirmed"})]}):"error"===t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(p.Z,{id:"credit.somethingWentWrong"})}),(0,a.jsx)(p.Z,{id:"credit.pleaseCheckTheError",values:{support:function(e){return(0,a.jsx)("a",{className:"font-medium text-blue-600 hover:text-blue-500",href:r.formatMessage({id:"url.supportChannel"}),target:"_blank",rel:"noreferrer",children:e})}}})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(p.Z,{id:"credit.processing"})}),(0,a.jsx)(p.Z,{id:"credit.pleaseCheckTheError",values:{support:function(e){return(0,a.jsx)("a",{className:"font-medium text-blue-600 hover:text-blue-500",href:r.formatMessage({id:"url.supportChannel"}),target:"_blank",rel:"noreferrer",children:e})}}})]})})}),(0,a.jsx)(be,{currentStatus:t,data:n})]})};function ye(e,t){return(0,v.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/credits/purchase"),{price_key:e,hash:t})}function we(e){return(0,v.EE)("".concat("https://www.midjourney.com","/api/billing/passthrough/product/credits/rollover/user_id/").concat(e?"?hash=".concat(e):""))}function Ne(e){var t,n=e.setOpen,s=e.open,l=(0,A.m)().hash,i=(0,r.useState)([]),o=i[0],c=i[1],d=(0,r.useState)(""),u=d[0],x=d[1],h=(0,r.useState)(null),g=h[0],b=h[1],j=(0,r.useState)("loading"),y=j[0],w=j[1],N=(0,r.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(y)}),[y]),Z=(0,m.useRouter)();(0,r.useEffect)((function(){function e(){return(e=ve(Y().mark((function e(){var t;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(l);case 2:t=e.sent,c(null===t||void 0===t?void 0:t.prices),w("idle");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,r.useEffect)((function(){function e(){return(e=ve(Y().mark((function e(){var t;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("confirming"!==y){e.next=6;break}return(0,I.B)("credits_purchase",{category:"Billing",label:"credits purchase",price_id:u}),e.next=4,ye(u,l);case 4:t=e.sent,b(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[l,y,u]),(0,r.useEffect)((function(){if(g){if(g.success||g.credits)return void w("confirmed");!g.error&&g.credits||w("error")}}),[g]);var k=(0,f.Z)(),S=(0,r.useMemo)((function(){return N("confirming")?function(){}:N("confirmed")?function(){return Z.reload()}:null}),[N,Z]),P={open:s,setOpen:n,title:k.formatMessage({id:"credit.title"}),ActionButton:function(){return(0,a.jsxs)(W.Z,{className:(0,v.CN)("inline-flex flex-col justify-center py-2 px-4 w-full text-lg font-normal text-white hover:text-white border-transparent focus:outline-none focus:ring-0 disabled:text-gray-900 disabled:!bg-gray-600 disabled:cursor-not-allowed min-h-[3rem]",u&&"bg-blue-700 hover:bg-blue-800"),onClick:function(){"confirmed"===y?Z.reload():"error"===y?(b(null),w("confirming")):"confirm"===y?w("confirming"):u&&w("confirm")},disabled:!u&&"confirmed"!==y,children:[["idle","loading"].includes(y)&&!u&&(0,a.jsx)(p.Z,{id:"credit.selectAnAmount"}),["idle","loading"].includes(y)&&u&&(0,a.jsx)(p.Z,{id:"credit.continue"}),"confirmed"===y&&(0,a.jsx)(p.Z,{id:"credit.close"}),"confirming"===y&&(0,a.jsx)(p.Z,{id:"credit.pelaseWait"}),"error"===y&&(0,a.jsx)(p.Z,{id:"credit.tryAgain"}),["confirm"].includes(y)&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(p.Z,{id:"credit.purchase"})})]})},BackButton:function(){return["confirming","confirmed"].includes(y)?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(W.Z,{className:"inline-flex justify-center py-2 px-4 w-full min-h-[3rem] text-base font-medium text-slate-500 hover:text-white hover:!bg-white/0 hover:!bg-slate-700 rounded-md border !border-transparent focus:outline-none focus:ring-0 transition sm:text-base",onClick:function(){["confirm","error"].includes(y)?(w("idle"),b(null)):n(!1)},children:(0,a.jsx)(p.Z,{id:"credit.back"})})},showClose:!0,closeCallback:S};return(0,a.jsxs)(_.Z,{modalBaseProps:P,children:[["confirming","error","confirmed"].includes(y)&&(0,a.jsx)(je,{data:g,currentStatus:y}),["idle"].includes(y)&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 justify-start text-left text-slate-300 items-left",children:[(0,a.jsx)("h2",{className:"text-lg text-blue-400",children:(0,a.jsx)(p.Z,{id:"credit.selectAmountOfFastHours"})}),(0,a.jsx)(p.Z,{id:"credit.youWillBeAskedToConfirm"}),(0,a.jsx)("span",{className:"italic text-slate-400",children:(0,a.jsx)(p.Z,{id:"credit.whilePurchasedHoursDoNotExpire",values:{underline:function(e){return(0,a.jsx)("span",{className:"underline",children:e})}}})}),(0,a.jsx)("div",{className:"flex gap-4 mt-4 md:px-8",children:null===o||void 0===o?void 0:o.map((function(e,t){var n=null===e||void 0===e?void 0:e.key;return(0,a.jsxs)("button",{className:(0,v.CN)("flex flex-col text-center items-center p-4 px-4 w-full bg-darkBlue-500/70 hover:bg-uiBlue-500/70 rounded-md !border border-slate-800/50 hover:border-slate-400/30 hoverUpSmall",u===n&&"from-emerald-600/50 bg-gradient-to-br !border-emerald-500"),onClick:function(){x(n)},children:[(0,a.jsxs)("div",{className:(0,v.CN)("flex relative flex-col text-emerald-600",u===n&&"!text-white"),children:[(0,a.jsx)(pe.Z,{height:28,className:"-mb-5  opacity-0 ".concat(t>=2&&"!opacity-100")}),(0,a.jsx)(pe.Z,{height:28,className:" opacity-0 ".concat(t>=1&&"!opacity-100")}),(0,a.jsx)(pe.Z,{height:28,className:"-mt-5"})]}),(0,a.jsxs)("p",{className:"mt-2 text-lg font-medium text-slate-100","aria-label":"".concat(null===e||void 0===e?void 0:e.hours," ").concat((null===e||void 0===e?void 0:e.hours)>1?k.formatMessage({id:"credit.hours"}):k.formatMessage({id:"credit.hour"})),children:[null===e||void 0===e?void 0:e.hours,(null===e||void 0===e?void 0:e.hours)>1?(0,a.jsx)(p.Z,{id:"credit.hours"}):(0,a.jsx)(p.Z,{id:"credit.hour"})]}),(0,a.jsx)("p",{className:"text-base font-medium text-slate-200 mix-blend-overlay",children:null===e||void 0===e?void 0:e.price})]},n)}))})]}),["confirm"].includes(y)&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 justify-start text-left text-slate-300 items-left",children:[(0,a.jsx)("h2",{className:"text-lg text-blue-400",children:"Confirm your purchase"}),(0,a.jsx)("p",{className:"",children:(0,a.jsx)(p.Z,{id:"credit.yourSavedPaymentMethodWill"})}),(0,a.jsx)("span",{className:"italic text-slate-400",children:(0,a.jsx)(p.Z,{id:"credit.whilePurchasedHoursDoNotExpire",values:{underline:function(e){return(0,a.jsx)("span",{className:"underline",children:e})}}})}),null===(t=o.filter((function(e){return e.key===u})))||void 0===t?void 0:t.map((function(e,t){return(0,a.jsxs)("div",{className:(0,v.CN)("p-4 mt-3 bg-darkBlue-500/70 border-slate-800/50 border rounded-lg"),children:[(0,a.jsxs)("div",{className:"flex gap-5 justify-between items-center w-full",children:[(0,a.jsx)("h3",{className:"text-base font-normal text-slate-400",children:(0,a.jsx)(p.Z,{id:"credit.pricePerHour"})}),(0,a.jsx)("p",{className:"justify-center items-center font-medium text-slate-100",children:e.price_per_hour})]}),(0,a.jsxs)("div",{className:"flex gap-5 justify-between items-center w-full",children:[(0,a.jsx)("h3",{className:"text-base font-normal text-slate-400",children:(0,a.jsx)(p.Z,{id:"credit.fastHours"})}),(0,a.jsxs)("p",{className:"justify-center items-center font-medium text-slate-100",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"x"})," ",null===e||void 0===e?void 0:e.hours]})]}),(0,a.jsx)("hr",{className:"my-2 opacity-30"}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full",children:[(0,a.jsx)("h3",{className:"text-base font-normal text-slate-400",children:(0,a.jsx)(p.Z,{id:"credit.subtotal"})}),(0,a.jsx)("p",{className:"justify-center items-center font-medium text-slate-100",children:null===e||void 0===e?void 0:e.price})]})]},e.key)}))]}),"loading"===y&&(0,a.jsx)("div",{className:"my-24 text-xl text-center text-white",children:(0,a.jsx)(G.gb,{color:"",height:"24",className:"animate-spin"})})]})}var Ze=n(13902);function ke(e,t,n,a,r,s,l){try{var i=e[s](l),o=i.value}catch(c){return void n(c)}i.done?t(o):Promise.resolve(o).then(a,r)}function Se(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function l(e){ke(s,a,r,l,i,"next",e)}function i(e){ke(s,a,r,l,i,"throw",e)}l(void 0)}))}}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pe=function(e){var t,n=e.currentStatus,r=e.data,s=(0,f.Z)(),l={text:s.formatMessage({id:"removePrivate.changeConfirming"}),type:"loading"};("confirmed"===n&&(l={text:s.formatMessage({id:"removePrivate.changeConfirmed"}),type:"success"}),"error"===n||"estimate_error"===n)&&(l={text:"".concat(s.formatMessage({id:"removePrivate.error"}),": ").concat((null===r||void 0===r||null===(t=r.error)||void 0===t?void 0:t.message)||"Unknown error"),type:"error"});return(0,a.jsx)(ae,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){_e(e,t,n[t])}))}return e}({},l))},Ce=function(e){var t=e.currentStatus,n=e.data,r=(0,f.Z)();return(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)("p",{className:"text-base text-left text-gray-500",children:function(){var e=null;switch(t){case"confirmed":e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(p.Z,{id:"removePrivate.success"})}),(0,a.jsx)(p.Z,{id:"removePrivate.yourPlanChangeHasBeen"})]});break;case"error":e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(p.Z,{id:"removePrivate.somethingWentWrong"})}),(0,a.jsx)(p.Z,{id:"removePrivate.pleaseTryAgain",values:{support:function(e){return(0,a.jsx)("a",{href:r.formatMessage({id:"url.supportChannel"}),className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0",children:e})}}})]});break;case"estimate_error":e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(p.Z,{id:"removePrivate.somethingWentWrong"})}),(0,a.jsx)(p.Z,{id:"removePrivate.thereWasAnError",values:{support:function(e){return(0,a.jsx)("a",{href:r.formatMessage({id:"url.supportChannel"}),className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0",children:e})}}})]});break;default:e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(p.Z,{id:"removePrivate.processing"})}),(0,a.jsx)(p.Z,{id:"removePrivate.pleaseWaitWhile",values:{support:function(e){return(0,a.jsx)("a",{href:r.formatMessage({id:"url.supportChannel"}),className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0",children:e})}}})]})}return e}()})}),(0,a.jsx)(Pe,{currentStatus:t,data:n})]})};function Me(e){return(0,v.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/add_on/cancel/"),{product:"can_private",hash:e})}function Oe(e){return(0,v.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/add_on/cancel/estimate/"),{product:"can_private",hash:e})}function Be(e){var t,n,s,l,i,o,c,d,u,x,h,g,b=e.planKey,j=e.priceKey,y=e.setOpen,w=e.open,N=(e.type,(0,A.m)()),Z=N.hash,k=N.userData,S=(0,r.useState)(),P=S[0],C=S[1],M=(0,m.useRouter)(),O=(0,r.useState)(),B=O[0],E=O[1],I=(0,r.useState)(!1),T=I[0],D=I[1],F=(0,r.useState)("loading"),R=F[0],q=F[1],H=(0,r.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(R)}),[R]);(0,r.useEffect)((function(){function e(){return(e=Se(Y().mark((function e(){var t,n;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H("loading")){e.next=7;break}return e.next=4,Oe(Z);case 4:(null===(n=e.sent)||void 0===n?void 0:n.error)||!(null===n||void 0===n||null===(t=n.usage)||void 0===t?void 0:t.add_on)?q("estimate_error"):(q("estimate"),D(n.usage.add_on.used.cents<5)),E(n.usage);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[H,Z]),(0,r.useEffect)((function(){function e(){return(e=Se(Y().mark((function e(){var t;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H("confirming")){e.next=6;break}return e.next=3,Me(Z);case 3:t=e.sent,C(t),t.success?q("confirmed"):q("error");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[H,Z,j,b]);var L=(0,f.Z)(),z=(0,r.useMemo)((function(){return H("confirming")?function(){}:H("confirmed")?function(){return M.reload()}:null}),[H,M]),U={open:w,setOpen:y,title:L.formatMessage({id:"removePrivate.title"}),ActionButton:function(){return(0,a.jsxs)(W.Z,{className:(0,v.CN)("inline-flex flex-col justify-center py-2 px-4 w-full text-lg font-normal text-white hover:text-white border-transparent focus:outline-none focus:ring-0 disabled:!text-gray-900 disabled:!bg-gray-600 disabled:pointer-events-none disabled:cursor-not-allowed min-h-[3rem] bg-blue-700 hover:bg-blue-800"),onClick:function(){"confirmed"===R?M.reload():H("error","estimate_error")?(C(null),E(null),q("loading")):H("estimate")&&q("confirming")},disabled:H("confirming","loading"),children:[["estimate"].includes(R)&&(0,a.jsx)(p.Z,{id:"removePrivate.confirmChange"}),H("confirmed")&&(0,a.jsx)(p.Z,{id:"removePrivate.close"}),H("confirming")&&(0,a.jsx)(p.Z,{id:"removePrivate.pleaseWait "}),H("error","estimate_error")&&(0,a.jsx)(p.Z,{id:"removePrivate.tryAgain"}),H("loading")&&(0,a.jsx)(p.Z,{id:"removePrivate.loading"})]})},BackButton:function(){return H("confirming","confirmed")?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(W.Z,{className:"inline-flex justify-center py-2 px-4 w-full min-h-[3rem] text-base font-medium text-slate-500 hover:text-white hover:underline hover:!bg-white/0 rounded-md border border-transparent focus:outline-none focus:ring-0 sm:text-base",onClick:function(){return y(!1)},children:(0,a.jsx)(p.Z,{id:"removePrivate.cancel"})})},type:(null===P||void 0===P?void 0:P.msg)?"warning":H("confirmed")?"success":"standard",closeCallback:z};return(0,a.jsxs)(_.Z,{modalBaseProps:U,children:[H("confirming","error","estimate_error","confirmed")&&(0,a.jsx)(Ce,{data:P||B,currentStatus:R}),H("loading")&&(0,a.jsx)("div",{className:"my-24 text-xl text-center text-white",children:(0,a.jsx)(G.gb,{color:"",height:"24",className:"animate-spin"})}),T&&H("estimate")&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 justify-start text-left text-slate-300 items-left",children:[(0,a.jsx)("h2",{className:"text-lg text-blue-400",children:(0,a.jsx)(p.Z,{id:"removePrivate.youAreEligibleForAFullRefund"})}),(0,a.jsx)("p",{className:"",children:(0,a.jsx)(p.Z,{id:"removePrivate.theRemovalOfYourStealthWill"})})]}),!1===T&&H("estimate")&&(0,a.jsxs)("div",{className:"flex flex-col gap-6 my-2 text-left",children:[(0,a.jsx)("h2",{className:"text-lg text-blue-400",children:(0,a.jsx)(p.Z,{id:"removePrivate.youAreEligibleForProration"})}),(0,a.jsx)("p",{className:"text-slate-200",children:(0,a.jsx)(p.Z,{id:"removePrivate.ifYouProceed"})}),(0,a.jsxs)("p",{className:"flex gap-2 items-start p-2 italic text-slate-400 rounded-lg border border-blue-800",children:[(0,a.jsx)(Ze.Z,{height:20,className:"inline shrink-0 text-blue-600"}),(0,a.jsx)(p.Z,{id:"removePrivate.ifYouWantToKeep"})]}),(0,a.jsxs)("div",{className:"flex overflow-hidden flex-col gap-1 mt-4",children:[(0,a.jsx)("div",{className:"p-4 py-6 space-y-4 bg-darkBlue-500/70 rounded-xl border border-slate-800/50",children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("h3",{className:"text-base font-normal text-left text-slate-100",children:(0,a.jsx)(p.Z,{id:"removePrivate.removingStealthMode",values:{highlight:function(e){return(0,a.jsx)("span",{className:"text-indigo-500",children:e})}}})}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full",children:[(0,a.jsx)("p",{className:"text-slate-400",children:"Time remaining in month"}),(0,a.jsxs)("p",{className:(0,v.CN)(" font-medium","text-emerald-500"),children:[0!==-(null===B||void 0===B||null===(t=B.add_ons)||void 0===t||null===(n=t.can_private)||void 0===n||null===(s=n.left)||void 0===s?void 0:s.cents)&&(-(null===B||void 0===B||null===(l=B.add_ons)||void 0===l||null===(i=l.can_private)||void 0===i||null===(o=i.left)||void 0===o?void 0:o.cents)>0?"-":"+"),(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.floor(Math.abs(null===(c=null===B||void 0===B?void 0:B.add_ons.can_private)||void 0===c?void 0:c.left.cents))/100]})]})]})}),(0,a.jsx)("div",{className:"p-4 space-y-4 text-slate-200 border border-transparent .bg-slate-100/5",children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full",children:[(0,a.jsx)("p",{className:"text-slate-300",children:"Current balance"}),(0,a.jsxs)("p",{className:(0,v.CN)(" "),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs((null===k||void 0===k||null===(d=k.stripe)||void 0===d?void 0:d.balance)/100)]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full",children:[(0,a.jsx)("p",{className:"text-slate-300",children:"Final balance"}),(0,a.jsxs)("p",{className:(0,v.CN)(" text-emerald-500"),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.round(Math.abs((null===B||void 0===B||null===(u=B.add_ons)||void 0===u||null===(x=u.can_private)||void 0===x||null===(h=x.left)||void 0===h?void 0:h.cents)+(null===k||void 0===k||null===(g=k.stripe)||void 0===g?void 0:g.balance)))/100]})]})]})})]})]})]})}function Ee(e,t,n,a,r,s,l){try{var i=e[s](l),o=i.value}catch(c){return void n(c)}i.done?t(o):Promise.resolve(o).then(a,r)}function Ae(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function l(e){Ee(s,a,r,l,i,"next",e)}function i(e){Ee(s,a,r,l,i,"throw",e)}l(void 0)}))}}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Te=function(e){var t,n=e.currentStatus,r=e.data,s=(0,f.Z)(),l={text:s.formatMessage({id:"unchange.changeConfirming"}),type:"loading"};("confirmed"===n&&(l={text:s.formatMessage({id:"unchange.changeConfirmed"}),type:"success"}),"error"===n||"estimate_error"===n)&&(l={text:"".concat(s.formatMessage({id:"unchange.error"})," :").concat((null===r||void 0===r||null===(t=r.error)||void 0===t?void 0:t.message)||"Unknown error"),type:"error"});return(0,a.jsx)(ae,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Ie(e,t,n[t])}))}return e}({},l))},We=function(){var e,t,n,r,s,l,i,o,c,d,u,m=(0,A.m)(),x=m.userData,f=m.plans,h=function(e){return{basic:"!text-teal-400",standard:"!text-indigo-400",pro:"!text-amber-400",enterprise:"!text-blue-400"}[e]},g=(null===x||void 0===x||null===(e=x.plan)||void 0===e?void 0:e.type)===(null===x||void 0===x||null===(t=x.next)||void 0===t?void 0:t.plan.key),b=f.find((function(e){var t;return e.key===(null===x||void 0===x||null===(t=x.next)||void 0===t?void 0:t.plan.key)})),j=null===b||void 0===b?void 0:b.price[null===x||void 0===x||null===(n=x.next)||void 0===n?void 0:n.plan.price.key],y=f.find((function(e){return e.key===(null===x||void 0===x?void 0:x.plan.type)})),w=null===y||void 0===y?void 0:y.price[null===x||void 0===x?void 0:x.plan.recurring];return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("p",{className:"text-left text-slate-400",children:(0,a.jsx)(p.Z,{id:"unchange.cancelAnyPlanChanges",values:{date:function(){return(0,a.jsx)("span",{className:"text-blue-500",children:(0,v.L0)(x.next.at,!0)[1]})}}})}),(0,a.jsx)("div",{className:"flex overflow-hidden flex-col gap-1 mt-4",children:(0,a.jsxs)("div",{className:"p-4 py-6 space-y-4 bg-darkBlue-500/70 rounded-xl border border-slate-800/50",children:[(0,a.jsxs)("div",{className:"text-slate-300",children:[(0,a.jsx)("h3",{className:"text-xs font-bold text-left text-slate-400 uppercase",children:(0,a.jsx)(p.Z,{id:"unchange.from"})}),(0,a.jsxs)("h3",{className:"text-base font-normal text-left text-slate-100",children:[(0,a.jsx)(p.Z,{id:"unchange.swapTo"})," ",(0,a.jsxs)("span",{className:h(null===x||void 0===x||null===(r=x.next)||void 0===r?void 0:r.plan.key),children:[(0,a.jsx)(p.Z,{id:null!==(d=null===x||void 0===x||null===(s=x.next)||void 0===s?void 0:s.plan.key)&&void 0!==d?d:"missing"}),(0,a.jsx)(p.Z,{id:"manageSub.plan"})," ",g&&("month"===(null===x||void 0===x||null===(l=x.next)||void 0===l?void 0:l.plan.key)?(0,a.jsx)(p.Z,{id:"manageSub.monthly"}):(0,a.jsx)(p.Z,{id:"manageSub.annual"}))]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item base price",children:[(0,a.jsx)("p",{className:"text-slate-400",children:(0,a.jsx)(p.Z,{id:"unchange.basePrice"})}),(0,a.jsxs)("p",{className:(0,v.CN)(" font-medium text-slate-300"),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs(j.cents)/100," ","month"===(null===x||void 0===x||null===(i=x.next)||void 0===i?void 0:i.plan.key)?(0,a.jsx)(p.Z,{id:"manageSub.perMonth"}):(0,a.jsx)(p.Z,{id:"manageSub.perYear"})]})]})]}),(0,a.jsx)("hr",{className:"my-2 border-slate-800"}),(0,a.jsxs)("div",{className:"text-slate-300",children:[(0,a.jsx)("h3",{className:"text-xs font-bold text-left text-slate-400 uppercase",children:(0,a.jsx)(p.Z,{id:"unchange.to"})}),(0,a.jsxs)("h3",{className:"text-base font-normal text-left text-slate-100 capitalize",children:[(0,a.jsx)(p.Z,{id:"unchange.keep"})," ",(0,a.jsxs)("span",{className:h(null===x||void 0===x?void 0:x.plan.type),children:[(0,a.jsx)(p.Z,{id:null!==(u=null===x||void 0===x?void 0:x.plan.type)&&void 0!==u?u:"missing"}),(0,a.jsx)(p.Z,{id:"manageSub.plan"})," ",g&&("month"===(null===x||void 0===x||null===(o=x.next)||void 0===o?void 0:o.plan.key)?(0,a.jsx)(p.Z,{id:"manageSub.monthly"}):(0,a.jsx)(p.Z,{id:"manageSub.annual"}))]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item base price",children:[(0,a.jsx)("p",{className:"text-slate-400",children:(0,a.jsx)(p.Z,{id:"unchange.basePrice"})}),(0,a.jsxs)("p",{className:(0,v.CN)(" font-medium text-slate-300"),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs(w.cents)/100," /"," ",null===x||void 0===x||null===(c=x.next)||void 0===c?void 0:c.plan.price.key]})]})]})]})})]})})},De=function(e){var t=e.currentStatus,n=e.data;return(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)("p",{className:"text-base text-left text-gray-500","aria-label":"confirmation",children:function(){var e=null;switch(t){case"confirmed":e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(p.Z,{id:"unchange.success"})}),(0,a.jsx)(p.Z,{id:"unchange.yourPlanCHangeHasBeen"})]});break;case"error":e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(p.Z,{id:"unchange.somethingWentWrong"})}),(0,a.jsx)(p.Z,{id:"unchange.pleaseTryAgain",values:{support:function(e){return(0,a.jsx)("a",{href:"https://discord.com/channels/662267976984297473/958069758211797092",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0",children:e})}}})]});break;default:e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(p.Z,{id:"unchange.processing"})}),(0,a.jsx)(p.Z,{id:"unchange.pleaseWaitWhile",values:{support:function(e){return(0,a.jsx)("a",{href:"https://discord.com/channels/662267976984297473/958069758211797092",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0 focus:ring-0",children:e})}}})]})}return e}()})}),(0,a.jsx)(Te,{currentStatus:t,data:n})]})};function Fe(e){return(0,v.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/plan/unchange/"),{hash:e})}function Re(e){var t=e.setOpen,n=e.open,s=(0,A.m)().hash,l=(0,r.useState)(),i=l[0],o=l[1],c=(0,m.useRouter)(),d=(0,r.useState)(),u=d[0],x=(d[1],(0,r.useState)("estimate")),h=x[0],g=x[1],b=(0,r.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(h)}),[h]);(0,r.useEffect)((function(){function e(){return(e=Ae(Y().mark((function e(){var t;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b("confirming")){e.next=6;break}return e.next=3,Fe(s);case 3:t=e.sent,o(t),t.success?g("confirmed"):g("error");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[b,s]);var j=(0,f.Z)(),y=(0,r.useMemo)((function(){return b("confirming")?function(){}:b("confirmed")?function(){return c.reload()}:null}),[b,c]),w={open:n,setOpen:t,title:j.formatMessage({id:"unchange.title"}),ActionButton:function(){return(0,a.jsxs)(W.Z,{className:(0,v.CN)("inline-flex flex-col justify-center py-2 px-4 w-full text-lg font-normal text-white hover:text-white border-transparent focus:outline-none focus:ring-0 disabled:!text-gray-900 disabled:!bg-gray-600 disabled:pointer-events-none disabled:cursor-not-allowed min-h-[3rem] bg-blue-700 hover:bg-blue-800"),onClick:function(){b("confirmed")?c.reload():b("asking")?g("estimate"):b("error","estimate_error")?(o(null),g("estimate")):b("estimate")&&g("confirming")},disabled:b("confirming","loading"),children:[["estimate"].includes(h)&&(0,a.jsx)(p.Z,{id:"unchange.confirmChange"}),b("asking")&&(0,a.jsx)(p.Z,{id:"unchange.next"}),b("confirmed")&&(0,a.jsx)(p.Z,{id:"unchange.close"}),b("confirming")&&(0,a.jsx)(p.Z,{id:"unchange.pleaseWait"}),b("error","estimate_error")&&(0,a.jsx)(p.Z,{id:"unchange.tryAgain"}),b("loading")&&(0,a.jsx)(p.Z,{id:"unchange.loading"})]})},BackButton:function(){var e;return b("confirming","confirmed")?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(W.Z,{className:"inline-flex justify-center py-2 px-4 w-full min-h-[3rem] text-base font-medium text-slate-500 hover:text-white hover:underline hover:!bg-white/0 rounded-md border border-transparent focus:outline-none focus:ring-0 sm:text-base",onClick:function(){var e;b("estimate")&&(null===u||void 0===u||null===(e=u.can_change)||void 0===e?void 0:e.now)?g("asking"):t(!1)},children:b("estimate")&&(null===u||void 0===u||null===(e=u.can_change)||void 0===e?void 0:e.now)?(0,a.jsx)(p.Z,{id:"unchange.back"}):(0,a.jsx)(p.Z,{id:"unchange.cancel"})})},type:(null===i||void 0===i?void 0:i.msg)?"warning":b("confirmed")?"success":"standard",closeCallback:y};return(0,a.jsxs)(_.Z,{modalBaseProps:w,children:[b("confirming","error","estimate_error","confirmed")&&(0,a.jsx)(De,{data:i||u,currentStatus:h}),b("estimate")&&(0,a.jsx)(We,{}),b("loading")&&(0,a.jsx)("div",{className:"my-24 text-xl text-center text-white",children:(0,a.jsx)(G.gb,{color:"",height:"24",className:"animate-spin"})})]})}function qe(e,t,n,a,r,s,l){try{var i=e[s](l),o=i.value}catch(c){return void n(c)}i.done?t(o):Promise.resolve(o).then(a,r)}function He(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function l(e){qe(s,a,r,l,i,"next",e)}function i(e){qe(s,a,r,l,i,"throw",e)}l(void 0)}))}}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ze=function(e){var t,n=e.currentStatus,r=e.data,s=(0,f.Z)(),l={text:s.formatMessage({id:"upgrade.changeConfirming"}),type:"loading"};("confirmed"===n&&(l={text:s.formatMessage({id:"upgrade.changeConfirmed"}),type:"success"}),"error"===n||"estimate_error"===n)&&(l={text:"".concat(s.formatMessage({id:"upgrade.error"})," :").concat((null===r||void 0===r||null===(t=r.error)||void 0===t?void 0:t.message)||"Unknown error"),type:"error"});return(0,a.jsx)(ae,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Le(e,t,n[t])}))}return e}({},l))},Ue=function(e){var t,n,r,s,l,i,o,c,d,u,m,x,f,h,g,b,j,y,w,N,Z,k,S,_,P,C,M,O,B,E,A,I,T,W,D,F,R,q,H,L,z,U,Y,$,K,G=e.estimate,V=function(e){return{basic:"!text-teal-400",standard:"!text-indigo-400",pro:"!text-amber-400",enterprise:"!text-blue-400"}[e]},J=(null===(t=G.old_plan)||void 0===t?void 0:t.key)===(null===(n=G.new_plan)||void 0===n?void 0:n.key);return G&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("p",{className:"text-left text-slate-400",children:(0,a.jsx)(p.Z,{id:"upgrade.anyRemainingPrivate",values:{underline:function(e){return(0,a.jsx)("span",{className:"underline",children:e})}}})})," ",(0,a.jsx)("p",{className:"text-left text-slate-400",children:(0,a.jsx)(p.Z,{id:"upgrade.anyUnpaidUsage"})}),(0,a.jsxs)("div",{className:"flex overflow-hidden flex-col gap-1 mt-4",children:[(0,a.jsxs)("div",{className:"p-4 py-6 space-y-4 bg-darkBlue-500/70 rounded-xl border border-slate-800/50",children:[(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("h3",{className:"text-base font-normal text-left text-slate-100",children:[(0,a.jsx)(p.Z,{id:"upgrade.from"})," ",(0,a.jsxs)("span",{className:V(null===(r=G.old_plan)||void 0===r?void 0:r.key),children:[(0,a.jsx)(p.Z,{id:null!==($=null===(s=G.old_plan)||void 0===s?void 0:s.key)&&void 0!==$?$:"missing"}),(0,a.jsx)(p.Z,{id:"manageSub.plan"})," ",J&&("month"===G.old_plan.price.recurring?(0,a.jsx)(p.Z,{id:"manageSub.monthly"}):(0,a.jsx)(p.Z,{id:"manageSub.annual"}))]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item unused fast",children:[(0,a.jsx)("p",{className:"text-slate-400",children:(0,a.jsx)(p.Z,{id:"upgrade.unusedFastHours"})}),(0,a.jsxs)("p",{className:(0,v.CN)(" font-medium",-(null===(i=null===(l=G.usage)||void 0===l?void 0:l.plan.left)||void 0===i?void 0:i.cents)>0?"text-rose-500":"text-emerald-500"),children:[0!==-(null===(c=null===(o=G.usage)||void 0===o?void 0:o.plan.left)||void 0===c?void 0:c.cents)&&(-(null===(u=null===(d=G.usage)||void 0===d?void 0:d.plan.left)||void 0===u?void 0:u.cents)>0?"-":"+"),(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs(-(null===(x=null===(m=G.usage)||void 0===m?void 0:m.plan.left)||void 0===x?void 0:x.cents))/100]})]}),(null===(f=G.usage)||void 0===f||null===(h=f.add_ons)||void 0===h?void 0:h.can_private)?(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item unused stealth",children:[(0,a.jsx)("p",{className:"text-slate-400",children:"Unused Stealth Mode"}),(0,a.jsxs)("p",{className:(0,v.CN)(" font-medium","text-emerald-500"),children:[0!==-(null===(g=G.usage)||void 0===g||null===(b=g.add_ons)||void 0===b||null===(j=b.can_private)||void 0===j||null===(y=j.left)||void 0===y?void 0:y.cents)&&(-(null===(w=G.usage)||void 0===w||null===(N=w.add_ons)||void 0===N||null===(Z=N.can_private)||void 0===Z||null===(k=Z.left)||void 0===k?void 0:k.cents)>0?"-":"+"),(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.floor(Math.abs(null===(S=G.usage.add_ons.can_private)||void 0===S?void 0:S.left.cents))/100]})]}):null,(null===G||void 0===G||null===(_=G.usage)||void 0===_?void 0:_.metered)?(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item stealth",children:[(0,a.jsx)("p",{className:"text-slate-400",children:"Outstanding metered usage"}),(0,a.jsxs)("p",{className:(0,v.CN)(" font-medium","text-rose-500"),children:["-",(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs(null===G||void 0===G||null===(P=G.usage)||void 0===P||null===(C=P.metered)||void 0===C||null===(M=C.used)||void 0===M?void 0:M.cents)/100]})]}):null]}),(0,a.jsx)("hr",{className:"my-2 border-slate-800"}),(0,a.jsxs)("div",{className:"text-slate-300",children:[(0,a.jsxs)("h3",{className:"text-base font-normal text-left text-slate-100",children:[(0,a.jsx)(p.Z,{id:"upgrade.to"})," ",(0,a.jsxs)("span",{className:V(null===G||void 0===G||null===(O=G.new_plan)||void 0===O?void 0:O.key),children:[(0,a.jsx)(p.Z,{id:null!==(K=null===(B=G.new_plan)||void 0===B?void 0:B.key)&&void 0!==K?K:"missing"}),(0,a.jsx)(p.Z,{id:"manageSub.plan"})," ",J&&("month"===G.new_plan.price.recurring?(0,a.jsx)(p.Z,{id:"manageSub.monthly"}):(0,a.jsx)(p.Z,{id:"manageSub.annual"}))]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item price",children:[(0,a.jsx)("p",{className:"text-slate-400",children:(0,a.jsx)(p.Z,{id:"upgrade.priceOfPlan"})}),(0,a.jsxs)("p",{className:(0,v.CN)(" font-medium",(null===G||void 0===G||null===(E=G.new_plan)||void 0===E?void 0:E.price.cents)>0?"text-rose-500":"text-emerald-500"),children:["-",(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs(null===G||void 0===G||null===(A=G.new_plan)||void 0===A?void 0:A.price.cents)/100," ","month"===G.new_plan.price.recurring?(0,a.jsx)(p.Z,{id:"manageSub.perMonth"}):(0,a.jsx)(p.Z,{id:"manageSub.perYear"})]})]})]})]}),(0,a.jsx)("div",{className:"p-4 space-y-4 text-slate-200 border border-transparent .bg-slate-100/5",children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full text-slate-400 ","aria-label":"line item subtotal",children:[(0,a.jsx)("p",{className:"",children:(0,a.jsx)(p.Z,{id:"upgrade.subtotal"})}),(0,a.jsxs)("p",{className:(0,v.CN)(""),children:[0!==(null===G||void 0===G||null===(I=G.stripe)||void 0===I?void 0:I.subtotal)&&((null===G||void 0===G||null===(T=G.stripe)||void 0===T?void 0:T.subtotal)>0?"-":"+"),(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs((null===G||void 0===G||null===(W=G.stripe)||void 0===W?void 0:W.subtotal)/100)]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full text-slate-400 ","aria-label":"line item tax",children:[(0,a.jsx)("p",{className:"",children:(0,a.jsx)(p.Z,{id:"upgrade.tax"})}),(0,a.jsxs)("p",{className:(0,v.CN)(" "),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),(null===G||void 0===G||null===(D=G.stripe)||void 0===D?void 0:D.tax)/100]})]}),(0,a.jsx)("hr",{className:"my-2 border-slate-800"}),(null===G||void 0===G||null===(F=G.stripe)||void 0===F?void 0:F.starting_balance)<0&&(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item current balance",children:[(0,a.jsx)("p",{className:"text-slate-300",children:(0,a.jsx)(p.Z,{id:"upgrade.currentBalance"})}),(0,a.jsxs)("p",{className:(0,v.CN)(" "),children:["(",(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs((null===G||void 0===G||null===(R=G.stripe)||void 0===R?void 0:R.starting_balance)/100),")"]})]}),((null===G||void 0===G||null===(q=G.stripe)||void 0===q?void 0:q.amount_due)>0||(null===G||void 0===G||null===(H=G.stripe)||void 0===H?void 0:H.starting_balance)<0)&&(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line due",children:[(0,a.jsx)("p",{className:"text-slate-300",children:(0,a.jsx)(p.Z,{id:"upgrade.amountDue"})}),(0,a.jsxs)("p",{className:(0,v.CN)(" "),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),(null===G||void 0===G||null===(L=G.stripe)||void 0===L?void 0:L.amount_due)/100]})]}),((null===G||void 0===G||null===(z=G.stripe)||void 0===z?void 0:z.ending_balance)<0||(null===G||void 0===G||null===(U=G.stripe)||void 0===U?void 0:U.starting_balance)<0)&&(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line final balance",children:[(0,a.jsx)("p",{className:"text-slate-300",children:(0,a.jsx)(p.Z,{id:"upgrade.finalBalance"})}),(0,a.jsxs)("p",{className:(0,v.CN)(" "),children:["(",(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs((null===G||void 0===G||null===(Y=G.stripe)||void 0===Y?void 0:Y.ending_balance)/100),")"]})]})]})})]})]})})},Ye=function(e){var t,n,r,s,l,i,o,c,d,u,m,x,f,h,g,b,j=e.estimate,y=(0,A.m)().userData,w=function(e){return{basic:"!text-teal-400",standard:"!text-indigo-400",pro:"!text-amber-400",enterprise:"!text-blue-400"}[e]},N=(null===(t=j.old_plan)||void 0===t?void 0:t.key)===(null===(n=j.new_plan)||void 0===n?void 0:n.key);return j&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("p",{className:"text-left text-slate-400",children:(0,a.jsx)(p.Z,{id:"upgrade.atTheEndOfYourBilling"})})," ",(0,a.jsxs)("div",{className:"flex overflow-hidden flex-col gap-1 mt-4",children:[(0,a.jsxs)("div",{className:"p-4 py-6 space-y-4 bg-darkBlue-500/70 rounded-xl border border-slate-800/50",children:[(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("h3",{className:"text-base font-normal text-left text-slate-100",children:[(0,a.jsx)(p.Z,{id:"upgrade.from"})," ",(0,a.jsxs)("span",{className:w(null===(r=j.old_plan)||void 0===r?void 0:r.key),children:[null===(s=j.old_plan)||void 0===s?void 0:s.copy.name,N&&("month"===(null===j||void 0===j?void 0:j.old_plan.price.recurring)?(0,a.jsx)(p.Z,{id:"manageSub.monthly"}):(0,a.jsx)(p.Z,{id:"manageSub.annual"}))]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item base price",children:[(0,a.jsx)("p",{className:"text-slate-400",children:(0,a.jsx)(p.Z,{id:"upgrade.basePrice"})}),(0,a.jsxs)("p",{className:(0,v.CN)(" font-medium text-slate-300"),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs(null===j||void 0===j||null===(l=j.old_plan)||void 0===l?void 0:l.price.cents)/100," ","month"===j.old_plan.price.recurring?(0,a.jsx)(p.Z,{id:"manageSub.perMonth"}):(0,a.jsx)(p.Z,{id:"manageSub.perYear"})]})]}),(null===j||void 0===j||null===(i=j.usage)||void 0===i||null===(o=i.add_ons)||void 0===o?void 0:o.can_private)?(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item stealth",children:[(0,a.jsx)("p",{className:"text-slate-400",children:(0,a.jsx)(p.Z,{id:"upgrade.plusStealthMode"})}),(0,a.jsxs)("p",{className:(0,v.CN)(" font-medium","text-slate-300"),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),"20 / month"]})]}):null]}),(0,a.jsx)("hr",{className:"my-2 border-slate-800"}),(0,a.jsxs)("div",{className:"text-slate-300",children:[(0,a.jsxs)("h3",{className:"text-base font-normal text-left text-slate-100",children:[(0,a.jsx)(p.Z,{id:"upgrade.to"})," ",(0,a.jsxs)("span",{className:w(null===j||void 0===j||null===(c=j.new_plan)||void 0===c?void 0:c.key),children:[null===j||void 0===j||null===(d=j.new_plan)||void 0===d?void 0:d.copy.name,N&&("month"===(null===j||void 0===j||null===(u=j.new_plan)||void 0===u?void 0:u.price.recurring)?(0,a.jsx)(p.Z,{id:"manageSub.monthly"}):(0,a.jsx)(p.Z,{id:"manageSub.annual"}))]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item base price",children:[(0,a.jsx)("p",{className:"text-slate-400",children:(0,a.jsx)(p.Z,{id:"upgrade.basePrice"})}),(0,a.jsxs)("p",{className:(0,v.CN)(" font-medium text-slate-300"),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs(null===j||void 0===j||null===(m=j.new_plan)||void 0===m?void 0:m.price.cents)/100," ","month"===(null===j||void 0===j||null===(x=j.new_plan)||void 0===x?void 0:x.price.recurring)?(0,a.jsx)(p.Z,{id:"manageSub.perMonth"}):(0,a.jsx)(p.Z,{id:"manageSub.perYear"})]})]})]})]}),(0,a.jsx)("div",{className:"p-4 space-y-4 text-slate-200 border border-transparent .bg-slate-100/5",children:(0,a.jsxs)("div",{className:"",children:[(null===y||void 0===y||null===(f=y.stripe)||void 0===f?void 0:f.balance)<0&&(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item current balance",children:[(0,a.jsx)("p",{className:"text-slate-300",children:(0,a.jsx)(p.Z,{id:"upgrade.currentBalance"})}),(0,a.jsxs)("p",{className:(0,v.CN)(" "),children:["(",(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs((null===y||void 0===y||null===(h=y.stripe)||void 0===h?void 0:h.balance)/100),")"]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line due",children:[(0,a.jsxs)("p",{className:"text-slate-300",children:[(0,a.jsx)(p.Z,{id:"upgrade.amountDueOn"})," ",(0,a.jsx)("span",{className:"italic text-slate-100",children:(0,v.L0)(y.billing_period.end,!0)[1]})]}),(0,a.jsxs)("p",{className:(0,v.CN)(" "),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),((null===j||void 0===j||null===(g=j.new_plan)||void 0===g?void 0:g.price.cents)+(null===y||void 0===y||null===(b=y.stripe)||void 0===b?void 0:b.balance))/100]})]})]})})]})]})})},$e=function(e){var t=e.currentStatus,n=e.data;return(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)("p",{className:"text-base text-left text-gray-500","aria-label":"confirmation",children:function(){var e=null;switch(t){case"confirmed":e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(p.Z,{id:"upgrade.success"})}),(0,a.jsx)(p.Z,{id:"upgrade.yourPlanChangeHasBeen"})]});break;case"error":e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(p.Z,{id:"upgrade.somethingWentWrong"})}),(0,a.jsx)(p.Z,{id:"upgrade.thisMayBeDueTo",values:{support:function(e){return(0,a.jsx)("a",{href:"https://discord.com/channels/662267976984297473/958069758211797092",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0",children:e})}}})]});break;case"estimate_error":e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(p.Z,{id:"upgrade.somethingWentWrong"})}),(0,a.jsx)(p.Z,{id:"upgrade.thereWasAnError",values:{support:function(e){return(0,a.jsx)("a",{href:"https://discord.com/channels/662267976984297473/958069758211797092",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0",children:e})}}})]});break;default:e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(p.Z,{id:"upgrade.processing"})}),(0,a.jsx)(p.Z,{id:"upgrade.pleaseWaitWhile",values:{support:function(e){return(0,a.jsx)("a",{href:"https://discord.com/channels/662267976984297473/958069758211797092",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0 focus:ring-0",children:e})}}})]})}return e}()})}),(0,a.jsx)(ze,{currentStatus:t,data:n})]})};function Ke(e,t,n,a){return(0,v.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/plan/change/"),{plan_key:e,price_key:t,hash:a,when:n})}function Ge(e,t,n){return(0,v.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/plan/change/estimate/"),{plan_key:e,price_key:t,hash:n,when:"now"})}function Ve(e){var t=e.planKey,n=e.priceKey,s=e.setOpen,l=e.open,i=e.type,o=(0,A.m)().hash,c=(0,r.useState)(),d=c[0],u=c[1],x=(0,m.useRouter)(),h=(0,r.useState)(),g=h[0],b=h[1],j=(0,r.useState)("end_of_period"),y=j[0],w=j[1],N=(0,r.useState)("loading"),Z=N[0],k=N[1],S=(0,r.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(Z)}),[Z]);(0,r.useEffect)((function(){function e(){return(e=He(Y().mark((function e(){var a;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S("loading")){e.next=6;break}return e.next=3,Ge(t,n,o);case 3:(null===(a=e.sent)||void 0===a?void 0:a.error)||"plan.estimate"!==(null===a||void 0===a?void 0:a.type)?k("estimate_error"):k(a.can_change.now?"asking":"estimate"),b(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[S,o,t,n]),(0,r.useEffect)((function(){function e(){return(e=He(Y().mark((function e(){var a;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S("confirming")){e.next=6;break}return e.next=3,Ke(t,n,y,o);case 3:a=e.sent,u(a),a.success?setTimeout((function(){return k("confirmed")}),500):k("error");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[S,o,n,t,y]);var P=(0,r.useMemo)((function(){return S("confirming")?function(){}:S("confirmed")?function(){return x.reload()}:null}),[S,x]),C={open:l,setOpen:s,title:i,ActionButton:function(){return(0,a.jsxs)(W.Z,{className:(0,v.CN)("inline-flex flex-col justify-center py-2 px-4 w-full text-lg font-normal text-white hover:text-white border-transparent focus:outline-none focus:ring-0 disabled:!text-gray-900 disabled:!bg-gray-600 disabled:pointer-events-none disabled:cursor-not-allowed min-h-[3rem] bg-blue-700 hover:bg-blue-800"),onClick:function(){S("confirmed")?x.reload():S("asking")?k("estimate"):S("error","estimate_error")?(u(null),b(null),k("loading")):S("estimate")&&k("confirming")},disabled:S("confirming","loading"),children:[["estimate"].includes(Z)&&(0,a.jsx)(p.Z,{id:"upgrade.confirmChange"}),S("asking")&&(0,a.jsx)(p.Z,{id:"upgrade.next"}),S("confirmed")&&(0,a.jsx)(p.Z,{id:"upgrade.close"}),S("confirming")&&(0,a.jsx)(p.Z,{id:"upgrade.pleaseWait"}),S("error","estimate_error")&&(0,a.jsx)(p.Z,{id:"upgrade.tryAgain"}),S("loading")&&(0,a.jsx)(p.Z,{id:"upgrade.loading"})]})},BackButton:function(){var e;return S("confirming","confirmed")?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(W.Z,{className:"inline-flex justify-center py-2 px-4 w-full min-h-[3rem] text-base font-medium text-slate-500 hover:text-white hover:underline hover:!bg-white/0 rounded-md border border-transparent focus:outline-none focus:ring-0 sm:text-base",onClick:function(){S("estimate")&&g.can_change.now?k("asking"):s(!1)},children:S("estimate")&&(null===g||void 0===g||null===(e=g.can_change)||void 0===e?void 0:e.now)?(0,a.jsx)(p.Z,{id:"upgrade.back"}):(0,a.jsx)(p.Z,{id:"upgrade.cancel"})})},type:(null===d||void 0===d?void 0:d.msg)?"warning":S("confirmed")?"success":"standard",closeCallback:P},M=(0,f.Z)(),O=[{id:"end_of_period",title:M.formatMessage({id:"upgrade.swapAtEnd"})},{id:"now",title:M.formatMessage({id:"upgrade.swapImmediately"})}];return(0,a.jsxs)(_.Z,{modalBaseProps:C,children:[S("asking")&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 justify-start text-left text-slate-300 items-left",children:[(0,a.jsx)("h2",{className:"text-lg text-blue-400",children:(0,a.jsx)(p.Z,{id:"upgrade.chooseYourTimeframe"})}),(0,a.jsx)("p",{className:"",children:(0,a.jsx)(p.Z,{id:"upgrade.changingPlanNowWill"})}),(0,a.jsxs)("fieldset",{className:"mt-4",onChange:function(e){return w(e.target.id)},children:[(0,a.jsx)("legend",{className:"sr-only",children:(0,a.jsx)(p.Z,{id:"upgrade.cancelTimeframe"})}),(0,a.jsx)("div",{className:"space-y-4",children:O.map((function(e){return(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:e.id,name:"cancel-timeframe",type:"radio",defaultChecked:e.id===y,className:"w-4 h-4 text-indigo-600 bg-red-500 border-gray-300 focus:ring-indigo-500 cursor-pointer"}),(0,a.jsx)("label",{htmlFor:e.id,className:"block ml-3 text-base font-medium text-slate-200 cursor-pointer",children:e.title})]},e.id)}))})]})]}),S("confirming","error","estimate_error","confirmed")&&(0,a.jsx)($e,{data:d||g,currentStatus:Z}),"now"===y&&S("estimate")&&g&&(0,a.jsx)(Ue,{estimate:g}),"now"!==y&&S("estimate")&&g&&(0,a.jsx)(Ye,{estimate:g}),S("loading")&&(0,a.jsx)("div",{className:"my-24 text-xl text-center text-white",children:(0,a.jsx)(G.gb,{color:"",height:"24",className:"animate-spin"})})]})}var Je=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 15v-1a4 4 0 00-4-4H8m0 0l3 3m-3-3l3-3m9 14V5a2 2 0 00-2-2H6a2 2 0 00-2 2v16l4-2 4 2 4-2 4 2z"}))}));var Xe=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"}))})),Qe=n(50136),et=n(5966),tt=n(96361),nt=n(85113),at=n(74959),rt=n(79771);var st=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"}))})),lt=n(51227),it=n(19648),ot=n(88371),ct=n(2213),dt=function(e){var t=e.className,n=(e.tier,(0,f.Z)()),s=(0,m.useRouter)(),l=(0,A.m)(),i=l.userUsage,o=l.subbed,c=l.changing,d=(0,r.useMemo)((function(){return[c&&{title:n.formatMessage({id:"manageSub.cancelPlanChange"}),onClick:function(){return setModalProps({type:"unchange"})},icon:(0,a.jsx)(Je,{height:18})},c&&{title:"break"},{title:"Manage API Keys",onClick:function(){return s.push("/account/keys")},icon:(0,a.jsx)(Xe,{height:18})}].filter(Boolean)}),[]);return(0,a.jsxs)("div",{className:"col-span-1 flex flex-col gap-4 rounded-lg bg-darkBlue-900/60 p-6",children:[(0,a.jsxs)("h2",{className:"flex w-full items-center justify-between text-xl font-medium text-slate-200",children:[(0,a.jsx)(p.Z,{id:"manageSub.planDetails"}),(0,a.jsx)(ct.Z,{optionArray:d,maxWidth:"!w-max",placement:"top-end",className:"h-full",offset:[0,10],transformOrigin:"top-right",buttonHoverStyle:"!rounded-full",children:(0,a.jsx)("button",{className:(0,v.CN)("group p-1 text-slate-400 bg-darkBlue-500 px-3 hover:bg-uiBlue-500 hover:text-slate-100 underline-offset-2 rounded-full .border-2 text-sm ml-auto flex gap-2 items-center justify-center !bg-opacity-100"),children:(0,a.jsx)(p.Z,{id:"manageSub.manage"})},"options")})]}),(0,a.jsxs)("div",{className:"flex w-full flex-col justify-start gap-1 text-slate-400",children:[(0,a.jsx)("h3",{className:"font-medium ".concat(t," opacity-70"),children:(0,a.jsx)(p.Z,{id:"manageSub.fastHours"})}),(0,a.jsxs)("p",{className:"flex w-full flex-wrap justify-between leading-6",children:[(0,a.jsx)(p.Z,{id:"manageSub.included"}),(0,a.jsxs)("span",{className:"text-slate-200 ",children:[(0,ot.n)(i.period_credits/1e3/60/60)," /"," ",(0,ot.n)(i.plan.credit_allocation/1e3/60/60)]})]}),(0,a.jsxs)("p",{className:"flex w-full flex-wrap justify-between leading-6",children:[(0,a.jsxs)("div",{className:"group-button group relative flex cursor-help items-center gap-0.5 !no-underline decoration-dotted decoration-1 underline-offset-2 hover:!underline",children:[(0,a.jsx)(ft,{title:n.formatMessage({id:"manageSub.whatAreRolloverFastHours.q"}),text:n.formatMessage({id:"manageSub.whatAreRolloverFastHours.a"})}),(0,a.jsx)(p.Z,{id:"manageSub.rollover"}),(0,a.jsx)(rt.Z,{height:16,className:"text-slate-500 group-hover:text-slate-400"})]}),(0,a.jsx)("span",{className:" text-slate-200 ",children:(0,ot.n)((null===i||void 0===i?void 0:i.rollover_credits)/1e3/60/60)})]}),(0,a.jsxs)("p",{className:"flex w-full flex-wrap justify-between leading-6",children:[(0,a.jsxs)("div",{className:"group-button group relative flex cursor-help items-center gap-0.5 !no-underline decoration-dotted decoration-1 underline-offset-2 hover:!underline",children:[(0,a.jsx)(ft,{title:n.formatMessage({id:"manageSub.whatAreBonusFastHours.q"}),text:n.formatMessage({id:"manageSub.whatAreBonusFastHours.a"})}),(0,a.jsx)(p.Z,{id:"manageSub.bonus"}),(0,a.jsx)(rt.Z,{height:16,className:"text-slate-500 group-hover:text-slate-400"})]}),(0,a.jsx)("span",{className:" text-slate-200 ",children:(0,ot.n)((null===i||void 0===i?void 0:i.expiring_credits)/1e3/60/60)})]})]}),o&&(0,a.jsx)("div",{className:"mt-auto flex w-full flex-col justify-start gap-2",children:(0,a.jsx)(lt.Z,{})})]})},ut=function(e){var t,n,r=e.tier,s=(0,A.m)(),l=s.setModalProps,i=(s.userData,s.privateSub);s.cancelling;return(0,a.jsxs)("div",{className:"col-span-1 flex flex-col gap-4 rounded-lg bg-darkBlue-900/60 p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-medium text-slate-200",children:(0,a.jsx)(p.Z,{id:"manageSub.planFeatures"})}),(0,a.jsx)("div",{className:"flex w-full flex-col justify-start gap-2",children:(0,a.jsxs)("ul",{role:"list",className:"flex flex-col space-y-3",children:[null===r||void 0===r||null===(t=r.copy)||void 0===t||null===(n=t.features)||void 0===n?void 0:n.map((function(e){return(0,a.jsxs)("li",{className:"flex items-center text-left text-slate-400 even:text-slate-400 lg:col-span-1",children:[(0,a.jsx)(E.Z,{height:14,className:" text-emerald-700","aria-hidden":"true"}),(0,a.jsx)("p",{className:"ml-3 text-base ",children:(0,a.jsx)(p.Z,{id:null!==e&&void 0!==e?e:"missing"})})]},e)})),i?(0,a.jsxs)("li",{className:"flex items-center justify-between text-left text-slate-400 even:text-slate-400 lg:col-span-1",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(st,{height:14,className:" text-yellow-600","aria-hidden":"true"}),(0,a.jsx)("p",{className:"ml-3 text-base ",children:(0,a.jsx)(p.Z,{id:"manageSub.stealthModeAddon"})})]}),(0,a.jsx)("button",{className:"text-sm text-slate-600 hover:text-rose-600 hover:underline",onClick:function(){return l({type:"cancelPrivate"})},children:(0,a.jsx)(p.Z,{id:"manageSub.remove"})})]}):(0,a.jsx)(a.Fragment,{})]})})]})},mt=function(e){var t,n,s,l,i,o,c,d=e.viewTab,u=e.tier,m=(0,A.m)(),x=m.userData,h=m.hash,g=m.privateSub,b=m.cancelling,j=m.changing,y=m.setModalProps,w=(0,f.Z)(),N=(0,r.useMemo)((function(){return[b?{title:w.formatMessage({id:"manageSub.uncancelPlan"}),onClick:function(){var e;y({type:"cancel"}),(0,I.B)("view_cancelchange",{category:"Billing",label:"view cancel change options",plan:u.key,price:null===(e=null===u||void 0===u?void 0:u.price[null===u||void 0===u?void 0:u.credit_period])||void 0===e?void 0:e.price,period:u.credit_period})},icon:(0,a.jsx)(et.Z,{height:18})}:{title:w.formatMessage({id:"manageSub.cancelPlan"}),onClick:function(){var e;y({type:"cancel"}),(0,I.B)("view_cancel",{category:"Billing",label:"view cancel subscription options",plan:u.key,price:null===(e=null===u||void 0===u?void 0:u.price[null===u||void 0===u?void 0:u.credit_period])||void 0===e?void 0:e.price,period:u.credit_period})},icon:(0,a.jsx)(Qe.Z,{height:18})},g&&{title:w.formatMessage({id:"manageSub.cancelStealth"}),onClick:function(){return y({type:"cancelPrivate"})},icon:(0,a.jsx)(tt.Z,{height:18})}].filter(Boolean)}),[]);return(0,a.jsxs)("div",{className:"col-span-1 flex flex-col gap-6 rounded-lg bg-darkBlue-900/60 p-6",children:[(0,a.jsxs)("h2",{className:"flex justify-between text-xl font-medium text-slate-200",children:[(0,a.jsx)(p.Z,{id:"manageSub.billingAndPayment"}),(0,a.jsx)(ct.Z,{optionArray:N,maxWidth:"!w-max",placement:"top-end",className:"h-full",offset:[0,10],transformOrigin:"top-right",buttonHoverStyle:"!rounded-full",children:(0,a.jsx)("button",{className:(0,v.CN)("group p-1 text-slate-400 bg-darkBlue-500 px-3 hover:bg-uiBlue-500 hover:text-slate-100 underline-offset-2 rounded-full .border-2 text-sm ml-auto flex gap-2 items-center justify-center !bg-opacity-100"),children:(0,a.jsx)(p.Z,{id:"manageSub.cancel"})},"options")})]}),(0,a.jsxs)("div",{className:"flex w-full flex-col justify-start gap-1 text-slate-400",children:[(0,a.jsxs)("p",{className:"flex w-full flex-wrap justify-between leading-6",children:[(0,a.jsx)(p.Z,{id:"manageSub.price"}),(0,a.jsxs)("span",{className:"text-slate-200 ",children:["$",("year"===d?Math.floor(u.price[d].cents/100/12):(null===u||void 0===u?void 0:u.price[d].cents)/100)+(x.add_ons.can_private?20:0)," ","/ mo"]})]}),(0,a.jsxs)("p",{className:"flex w-full flex-wrap justify-between leading-6",children:[(0,a.jsx)(p.Z,{id:"manageSub.billingPeriod"})," ",(0,a.jsx)("span",{className:"text-slate-200",children:"year"===d?(0,a.jsx)(p.Z,{id:"manageSub.annual"}):(0,a.jsx)(p.Z,{id:"manageSub.monthly"})})]}),b?(0,a.jsxs)("p",{className:"flex w-full flex-wrap justify-between leading-6",children:[(0,a.jsx)(p.Z,{id:"manageSub.cancellingOn"}),(0,a.jsx)("span",{className:"text-slate-200",children:(0,v.L0)(null===x||void 0===x||null===(t=x.next)||void 0===t?void 0:t.at,!0)[1]})]}):(0,a.jsxs)("p",{className:"flex w-full flex-wrap justify-between leading-6",children:[(0,a.jsx)(p.Z,{id:"manageSub.renewalDate"}),(0,a.jsx)("span",{className:"text-slate-200",children:(0,v.L0)(x.billing_period.end,!0)[1]})]}),!b&&j&&(0,a.jsxs)("p",{className:"flex w-full flex-wrap justify-between leading-6",children:[(0,a.jsx)(p.Z,{id:"manageSub.changingTo"}),(0,a.jsxs)("span",{className:"capitalize text-slate-200",children:[(0,a.jsx)(p.Z,{id:null!==(c=null===x||void 0===x||null===(n=x.next)||void 0===n||null===(s=n.plan)||void 0===s?void 0:s.key)&&void 0!==c?c:"missing"})," ","year"===(null===x||void 0===x||null===(l=x.next)||void 0===l||null===(i=l.plan)||void 0===i||null===(o=i.price)||void 0===o?void 0:o.key)?(0,a.jsx)(p.Z,{id:"manageSub.annual"}):(0,a.jsx)(p.Z,{id:"manageSub.monthly"})]})]}),(null===x||void 0===x?void 0:x.stripe.balance)>0&&(0,a.jsxs)("p",{className:"flex w-full flex-wrap justify-between leading-6",children:[(0,a.jsxs)("div",{className:"group-button group relative flex cursor-help items-center gap-0.5 !no-underline decoration-dotted decoration-1 underline-offset-2 hover:!underline",children:[(0,a.jsx)(p.Z,{id:"manageSub.availableBalance"})," ",(0,a.jsx)(ft,{title:w.formatMessage({id:"manageSub.whatIsAvailableBalance.q"}),text:w.formatMessage({id:"manageSub.whatIsAvailableBalance.a"})}),(0,a.jsx)(rt.Z,{height:16,className:"text-slate-500 group-hover:text-slate-400"})]}),(0,a.jsxs)("span",{className:"text-slate-200",children:["($",(null===x||void 0===x?void 0:x.stripe.balance)/100,")"]})]})]}),(0,a.jsxs)("div",{className:"mt-auto flex w-full flex-wrap gap-2",children:[(0,a.jsxs)(K.Z,{target:"_blank",href:"https://billing.stripe.com/p/login/aEUdRA5Wc8t25a03cc",className:"relative w-full items-center rounded-md !bg-transparent px-1 pb-2.5 !text-base font-normal !text-slate-400 hover:underline",children:["Edit Magazine Subscription",(0,a.jsxs)("span",{className:"group-button",children:[(0,a.jsx)(ft,{text:"Your magazine subscription should show up under the button bellow, but if you used a different email address to sign up for your subscription, you can edit it here."}),(0,a.jsx)(rt.Z,{height:16,className:"ml-2 text-slate-500 group-hover:text-slate-400"})]})]}),(0,a.jsx)(it.Z,{hash:h||void 0,customText:w.formatMessage({id:"manageSub.editBilling"})})]})]})},xt=function(e){var t,n,s,l,i=e.tier,o=e.viewTab,c=(0,A.m)(),d=c.userPlanRecurring,u=c.status,m=c.subbed,x=c.privateSub,h=c.userData,g=c.cancelling,b={basic:"!text-teal-400",standard:"!text-indigo-400",pro:"!text-amber-400",enterprise:"!text-blue-400"}[i.key],j=(0,r.useState)(!0),y=j[0],w=(j[1],(0,f.Z)());return(0,a.jsx)("div",{className:"relative mx-auto w-full max-w-7xl px-4 text-base",children:(0,a.jsx)("div",{className:".overflow-hidden relative mx-auto rounded-2xl border bg-darkBlue-500/50 transition-[border] ".concat(m&&i.current?"active"===u||null==u?"border-slate-800/30":"!border-2 border-red-500/30":"border-slate-800/30","  shadow-lg lg:flex "),children:(0,a.jsxs)("div",{className:"flex flex-1 flex-col gap-6 p-4 sm:grid sm:p-8",style:{gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))"},children:[(0,a.jsxs)("div",{className:"col-span-full flex flex-wrap items-center justify-between gap-4",children:[(0,a.jsxs)("h3",{className:"w-auto text-2xl font-extrabold capitalize text-slate-100",children:[(0,a.jsx)(p.Z,{id:"manageSub.yourPlan",values:{highlight:function(e){return(0,a.jsx)("span",{className:"".concat(b),children:e})},tier:w.formatMessage({id:i.key})}}),x&&" + Stealth Add-On"]}),m&&i.current&&(0,a.jsxs)("div",{children:[g?(0,a.jsxs)("p",{className:(0,v.CN)("inline-flex relative cursor-help group-button items-center py-1 px-2 pr-3 ml-4  text-white align-middle rounded-full"),children:[(0,a.jsx)(ft,{text:"Cancelling on ".concat((0,v.L0)(h.billing_period.end,!0)[1])}),(0,a.jsx)(Qe.Z,{height:14,className:"mr-1"}),(0,a.jsx)("span",{className:"text-sm font-bold leading-[16px] tracking-wide","aria-label":w.formatMessage({id:"manageSub.cancelling"}),children:(0,a.jsx)(p.Z,{id:"manageSub.cancelling"})})]}):null,!g&&(null===h||void 0===h||null===(t=h.next)||void 0===t?void 0:t.at)?(0,a.jsxs)("p",{className:(0,v.CN)("inline-flex relative cursor-help group-button items-center py-1 px-2 pr-3 ml-4  text-white align-middle rounded-full"),children:[(0,a.jsx)(ft,{text:"Changing to ".concat(null===h||void 0===h||null===(n=h.next)||void 0===n?void 0:n.plan.key," ").concat(null===h||void 0===h||null===(s=h.next)||void 0===s?void 0:s.plan.price.key,"ly on ").concat((0,v.L0)(null===h||void 0===h||null===(l=h.next)||void 0===l?void 0:l.at,!0)[1])}),(0,a.jsx)(nt.Z,{height:14,className:"mr-1"}),(0,a.jsx)("span",{className:"text-sm font-bold leading-[16px] tracking-wide",children:"CHANGING"})]}):null,(0,a.jsxs)("div",{className:(0,v.CN)("inline-flex items-center py-1 px-2 pr-3 ml-4 text-sm font-bold tracking-wide leading-[16px] text-white uppercase align-middle rounded-full","active"===u||null==u?"bg-emerald-700":"bg-red-700"),children:["active"===u||null==u?(0,a.jsx)(at.Z,{height:14,className:"mr-1"}):(0,a.jsx)(Ze.Z,{height:14,className:"mr-1"})," ",(null===u||void 0===u?void 0:u.replace("_"," ").toUpperCase())||w.formatMessage({id:"manageSub.active"})]}),(0,a.jsx)("div",{className:(0,v.CN)("absolute rounded-2xl top-0 right-0 -z-10 w-full h-full bg-gradient-to-bl  via-transparent","active"===u||null==u?"from-emerald-700/30":"from-red-700/30")})]})]}),y&&(0,a.jsxs)(a.Fragment,{children:[i.legacy&&i.current&&(0,a.jsx)(ae,{className:"col-span-full text-left ",type:"warning",text:"You are subscribed to a plan we no longer offer. You may remain subscribed to your current plan indefinitely, however, you may miss out on certain new features as they are added to the supported plans."}),(0,a.jsx)(dt,{className:b,tier:i}),(0,a.jsx)(ut,{tier:i}),(0,a.jsx)(mt,{viewTab:o,tier:i})]})]})})},i.price[d].id)},ft=function(e){var t=e.title,n=e.text;return(0,a.jsxs)("span",{role:"tooltip",className:"pointer-events-none absolute bottom-[120%] !-left-4 flex w-64 max-w-max flex-col gap-1 rounded-xl border border-slate-800/50 bg-slate-900 p-3 pt-2 text-left leading-normal text-slate-200 opacity-0 shadow-md shadow-darkBlue-900/50 transition-none delay-200 !duration-[1ms] before:!border-t-darkBlue-500 md:w-80 [.group-button:hover_&]:opacity-100 [.group-button:hover_&]:transition-opacity",children:[t&&(0,a.jsxs)("p",{className:"flex items-center gap-2 text-base font-medium",children:[(0,a.jsx)(rt.Z,{height:24,className:"inline shrink-0 text-blue-500"}),t]}),n&&(0,a.jsxs)("p",{className:"flex gap-2 text-sm text-slate-300",children:[t&&(0,a.jsx)(rt.Z,{height:24,className:"shrink-0 text-blue-500 opacity-0"}),n]})]})};function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){pt(e,t,n[t])}))}return e}var vt=function(){var e=(0,A.m)(),t=e.modalProps,n=e.setModalProps,r=ht({open:!0,setOpen:function(){return n(null)}},null===t||void 0===t?void 0:t.data);switch(null===t||void 0===t?void 0:t.type){case"credit":return(0,a.jsx)(Ne,ht({},r),"credit-modal");case"cancel":return(0,a.jsx)(fe,ht({},r),"cancel-modal");case"cancelPrivate":return(0,a.jsx)(Be,ht({},r),"cancel-private-modal");case"upgrade":return(0,a.jsx)(Ve,ht({},r),"upgrade-modal");case"unchange":return(0,a.jsx)(Re,ht({},r),"unchange-modal");case"invoices":return(0,a.jsx)(te,ht({},r));default:return null}};function gt(e){var t=e.user;return(0,a.jsxs)("div",{className:"flex flex-wrap gap-y-4 justify-between items-center w-full",children:[(0,a.jsxs)("h1",{className:"flex items-center text-2xl font-medium text-slate-400 align-baseline",children:[(0,a.jsx)("div",{className:"flex overflow-hidden items-center p-[0.15rem] mr-4 bg-uiBlue-500/60 rounded-full",children:(0,a.jsx)(o(),{src:(null===t||void 0===t?void 0:t.image)||"aaa",unoptimized:!0,height:36,width:36,className:"rounded-full",alt:"Profile Picture"})}),null===t||void 0===t?void 0:t.name,(0,a.jsxs)("span",{className:"text-xl text-slate-700 align-baseline",children:["#",null===t||void 0===t?void 0:t.discriminator]})]}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("button",{className:"box-border flex justify-center items-center py-2 px-3 h-auto font-sans text-lg font-medium text-slate-500 hover:text-slate-400 active:text-slate-600 hover:underline underline-offset-2 active:underline-offset-1 rounded",onClick:function(){return(0,l.signOut)()},children:[(0,a.jsx)(s.Z,{height:24,className:"mr-2"})," ",(0,a.jsx)(p.Z,{id:"nav.signOut"})]})})})]})}function bt(e){var t,n=e.router,r=e.setConfirmData,s=e.viewTab,l=void 0===s?"year":s,i=e.setViewTab,o=(0,A.m)(),c=o.hash,d=o.user,u=o.userData,m=o.plans,x=o.userUsage,f=o.userPlanRecurring,h=null===m||void 0===m?void 0:m.filter((function(e){return e.current})),v={tiers:m,viewTab:l,setViewTab:i,cancelling:!1,hash:c};return(0,a.jsxs)(a.Fragment,{children:[(null===(t=n.query)||void 0===t?void 0:t.session_id)&&(0,a.jsx)(O,{sessionId:n.query.session_id,setConfirmData:r,hash:c}),(0,a.jsx)(gt,{user:d}),(0,a.jsx)(vt,{}),(0,a.jsx)("div",{className:"pt-12 sm:pt-16 lg:pt-24",children:(0,a.jsx)("div",{className:"px-4 mx-auto max-w-7xl text-center sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"mx-auto space-y-2 max-w-3xl lg:max-w-none",children:[(0,a.jsx)("p",{className:"text-3xl font-extrabold text-white sm:text-4xl lg:text-5xl",role:"heading",children:"active"===(null===u||void 0===u?void 0:u.status)?(0,a.jsx)(p.Z,{id:"manageSub.manageSub"}):(0,a.jsx)(p.Z,{id:"manageSub.purchaseASub"})}),(0,a.jsx)("p",{className:"text-xl text-gray-300",children:(0,a.jsx)(p.Z,{id:"manageSub.chooseThePlan"})})]})})}),(null===h||void 0===h?void 0:h.length)>0&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"pt-12 mb-16 sm:pt-16",children:(0,a.jsx)(xt,ht({},v,{tier:h[0],viewTab:f,userUsage:x}))})}),(0,a.jsx)("div",{role:"",className:"h-16"}),(0,a.jsx)(z,{className:"",viewTab:l,setViewTab:i}),(0,a.jsx)(H,ht({},v))]})}},63994:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var a,r=n(85893),s=n(67294),l=n(32984),i=n(12351),o=n(23784),c=n(19946),d=n(61363),u=n(64103),m=n(16567),x=n(14157),f=n(15466),p=n(73781);let h=null!=(a=s.startTransition)?a:function(e){e()};var v,g=((v=g||{})[v.Open=0]="Open",v[v.Closed=1]="Closed",v),b=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(b||{});let j={0:e=>({...e,disclosureState:(0,l.E)(e.disclosureState,{0:1,1:0})}),1:e=>1===e.disclosureState?e:{...e,disclosureState:1},4:e=>!0===e.linkedPanel?e:{...e,linkedPanel:!0},5:e=>!1===e.linkedPanel?e:{...e,linkedPanel:!1},2:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},3:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},y=(0,s.createContext)(null);function w(e){let t=(0,s.useContext)(y);if(null===t){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,w),t}return t}y.displayName="DisclosureContext";let N=(0,s.createContext)(null);function Z(e){let t=(0,s.useContext)(N);if(null===t){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Z),t}return t}N.displayName="DisclosureAPIContext";let k=(0,s.createContext)(null);function S(e,t){return(0,l.E)(t.type,j,e,t)}k.displayName="DisclosurePanelContext";let _=s.Fragment;let P=i.AN.RenderStrategy|i.AN.Static;let C=(0,i.yV)((function(e,t){let{defaultOpen:n=!1,...a}=e,r=(0,s.useRef)(null),c=(0,o.T)(t,(0,o.h)((e=>{r.current=e}),void 0===e.as||e.as===s.Fragment)),d=(0,s.useRef)(null),u=(0,s.useRef)(null),x=(0,s.useReducer)(S,{disclosureState:n?0:1,linkedPanel:!1,buttonRef:u,panelRef:d,buttonId:null,panelId:null}),[{disclosureState:h,buttonId:v},g]=x,b=(0,p.z)((e=>{g({type:1});let t=(0,f.r)(r);if(!t||!v)return;let n=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:t.getElementById(v):t.getElementById(v);null==n||n.focus()})),j=(0,s.useMemo)((()=>({close:b})),[b]),w=(0,s.useMemo)((()=>({open:0===h,close:b})),[h,b]),Z={ref:c};return s.createElement(y.Provider,{value:x},s.createElement(N.Provider,{value:j},s.createElement(m.up,{value:(0,l.E)(h,{0:m.ZM.Open,1:m.ZM.Closed})},(0,i.sY)({ourProps:Z,theirProps:a,slot:w,defaultTag:_,name:"Disclosure"}))))})),M=(0,i.yV)((function(e,t){let n=(0,c.M)(),{id:a=`headlessui-disclosure-button-${n}`,...r}=e,[l,m]=w("Disclosure.Button"),f=(0,s.useContext)(k),h=null!==f&&f===l.panelId,v=(0,s.useRef)(null),g=(0,o.T)(v,t,h?null:l.buttonRef);(0,s.useEffect)((()=>{if(!h)return m({type:2,buttonId:a}),()=>{m({type:2,buttonId:null})}}),[a,m,h]);let b=(0,p.z)((e=>{var t;if(h){if(1===l.disclosureState)return;switch(e.key){case d.R.Space:case d.R.Enter:e.preventDefault(),e.stopPropagation(),m({type:0}),null==(t=l.buttonRef.current)||t.focus()}}else switch(e.key){case d.R.Space:case d.R.Enter:e.preventDefault(),e.stopPropagation(),m({type:0})}})),j=(0,p.z)((e=>{if(e.key===d.R.Space)e.preventDefault()})),y=(0,p.z)((t=>{var n;(0,u.P)(t.currentTarget)||e.disabled||(h?(m({type:0}),null==(n=l.buttonRef.current)||n.focus()):m({type:0}))})),N=(0,s.useMemo)((()=>({open:0===l.disclosureState})),[l]),Z=(0,x.f)(e,v),S=h?{ref:g,type:Z,onKeyDown:b,onClick:y}:{ref:g,id:a,type:Z,"aria-expanded":e.disabled?void 0:0===l.disclosureState,"aria-controls":l.linkedPanel?l.panelId:void 0,onKeyDown:b,onKeyUp:j,onClick:y};return(0,i.sY)({ourProps:S,theirProps:r,slot:N,defaultTag:"button",name:"Disclosure.Button"})})),O=(0,i.yV)((function(e,t){let n=(0,c.M)(),{id:a=`headlessui-disclosure-panel-${n}`,...r}=e,[l,d]=w("Disclosure.Panel"),{close:u}=Z("Disclosure.Panel"),x=(0,o.T)(t,l.panelRef,(e=>{h((()=>d({type:e?4:5})))}));(0,s.useEffect)((()=>(d({type:3,panelId:a}),()=>{d({type:3,panelId:null})})),[a,d]);let f=(0,m.oJ)(),p=null!==f?(f&m.ZM.Open)===m.ZM.Open:0===l.disclosureState,v=(0,s.useMemo)((()=>({open:0===l.disclosureState,close:u})),[l,u]),g={ref:x,id:a};return s.createElement(k.Provider,{value:l.panelId},(0,i.sY)({ourProps:g,theirProps:r,slot:v,defaultTag:"div",features:P,visible:p,name:"Disclosure.Panel"}))})),B=Object.assign(C,{Button:M,Panel:O});var E=n(61782),A=n(86896),I=n(44012),T=n(45332),W=[{question:"faq.whatAreFastHours.q",anchor:"",answer:["faq.whatAreFastHours.a.0","faq.whatAreFastHours.a.1","faq.whatAreFastHours.a.2","faq.whatAreFastHours.a.3"]},{question:"faq.whatIsUnlimitedRelaxed.q",anchor:"",answer:["faq.whatIsUnlimitedRelaxed.a.0","faq.whatIsUnlimitedRelaxed.a.1"]},{question:"faq.whatIfIWantMoreFast.q",anchor:"",answer:"faq.whatIfIWantMoreFast.a"},{question:"faq.whatIsTheCommunityGallery.q",anchor:"",answer:"faq.whatIsTheCommunityGallery.a"},{question:"faq.whatIfIDontWantMyImages.q",anchor:"",answer:"faq.whatIfIDontWantMyImages.a"},{question:"faq.howDoesCommercialUseWork.q",anchor:"",answer:["faq.howDoesCommercialUseWork.a.0","faq.howDoesCommercialUseWork.a.1"]},{question:"faq.canICancelMySubscriptionPlan.q",anchor:"",answer:"faq.canICancelMySubscriptionPlan.a"},{question:"faq.canIChangeMySubscriptionPlan.q",anchor:"",answer:"faq.canIChangeMySubscriptionPlan.a"}];function D(e){var t=e.className,n=(0,A.Z)();return(0,r.jsx)("div",{id:"faq",className:" ".concat(t),children:(0,r.jsx)("div",{className:"py-12 px-4 mx-auto max-w-7xl xs:px-8 md:py-24 md:px-16",children:(0,r.jsxs)("div",{className:"flex flex-col items-center w-full text-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-4xl font-extrabold text-white",children:(0,r.jsx)(I.Z,{id:"faq.title"})}),(0,r.jsx)("p",{className:"mt-4 text-lg text-gray-400",children:(0,r.jsx)(I.Z,{id:"faq.description",values:{br:(0,r.jsx)("br",{}),guide:function(e){return(0,r.jsx)("a",{className:"font-medium text-blue-600 hover:text-blue-500",href:"https://midjourney.gitbook.io/docs/",children:e})},support:function(e){return(0,r.jsx)("a",{className:"font-medium text-blue-600 hover:text-blue-500",href:n.formatMessage({id:"url.supportChannel"}),children:e})}}})})]}),(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)("dl",{className:"mt-12 space-y-3",children:W.map((function(e){return(0,r.jsx)(B,{as:"div",className:" bg-darkBlue-500/50 hover:bg-darkBlue-500/70 rounded-xl border border-slate-800/30",children:function(t){var a=t.open;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("dt",{className:"text-lg",children:(0,r.jsxs)(B.Button,{className:"flex flex-col justify-between items-start p-6 w-full text-left text-gray-400",children:[(0,r.jsxs)("div",{className:"flex justify-between w-full",children:[(0,r.jsx)("span",{className:" text-white",children:n.formatMessage({id:e.question})}),(0,r.jsx)("span",{className:"flex items-center ml-6 h-7",children:(0,r.jsx)(E.Z,{className:(0,T.CN)(a?"-rotate-180":"rotate-0","h-6 w-6 transform"),"aria-hidden":"true"})})]}),(0,r.jsx)(B.Panel,{as:"dd",className:"pr-12 mt-2 cursor-default",onClick:function(e){e.stopPropagation()},children:(0,r.jsx)("p",{className:"text-base text-left text-slate-300",children:Array.isArray(e.answer)?e.answer.map((function(e){return(0,r.jsx)("p",{className:"mb-4",dangerouslySetInnerHTML:{__html:n.formatMessage({id:e}).replace(/<a(.*?)>(.*?)<\/a>/g,(function(e,t,n){return"<a".concat(t,' class="font-medium text-blue-600 hover:text-blue-500">').concat(n,"</a>")}))}},e)})):n.formatMessage({id:e.answer})})})]})})})}},e.question)}))})})]})})},"faqHead")}},83195:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var a=n(34051),r=n.n(a),s=n(85893),l=n(67294),i=n(44304),o=n(86896),c=n(47891),d=n(45332),u="https://js.stripe.com/v3",m=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,x="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",f=null,p=function(e){return null!==f||(f=new Promise((function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(x),window.Stripe)t(window.Stripe);else try{var a=function(){for(var e=document.querySelectorAll('script[src^="'.concat(u,'"]')),t=0;t<e.length;t++){var n=e[t];if(m.test(n.src))return n}return null}();a&&e?console.warn(x):a||(a=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(u).concat(t);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(n),n}(e)),a.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),a.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(r){return void n(r)}else t(null)}))),f},h=function(e,t,n){if(null===e)return null;var a=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.52.0",startTime:t})}(a,n),a},v=Promise.resolve().then((function(){return p(null)})),g=!1;v.catch((function(e){g||console.warn(e)}));var b,j=function(){return b||(b=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];g=!0;var a=Date.now();return v.then((function(e){return h(e,t,a)}))}("pk_live_51Klny6JavIy9pYdOCk6XphadL80gWZLgPnyWI4DXPHkyO6ocDGZg6hm9Wt67Ogzc11UodLsBO5PQDEVL1kigVDhS00a8GLusLv")),b},y=n(36090),w=n(12197);function N(e,t,n,a,r,s,l){try{var i=e[s](l),o=i.value}catch(c){return void n(c)}i.done?t(o):Promise.resolve(o).then(a,r)}var Z=function(e){var t=e.planKey,n=e.priceKey,a=e.period,u=e.disabled,m=e.className,x=(0,l.useState)(!1),f=x[0],p=x[1],h=(0,c.m)().hash,v=((0,o.Z)(),(0,l.useCallback)(function(){var e,s=(e=r().mark((function e(s){var l,o,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),e.prev=1,!f&&!u){e.next=4;break}return e.abrupt("return");case 4:return p(!0),(0,i.B)("view_checkout",{category:"Billing",label:"checkout",plan:t,price:n,period:a}),e.next=8,(0,d.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/checkout/session/"),{order:{items:[{type:"plan",product:t,price:n}]},success_url:h?"".concat("https://www.midjourney.com","/checkout/plans/?hash=").concat(h,"&session_id="):"".concat("https://www.midjourney.com","/account/?session_id="),cancel_url:h?"".concat("https://www.midjourney.com","/checkout/plans/?hash=").concat(h):"".concat("https://www.midjourney.com","/account"),hash:h,platform:"midjourney"},!0);case 8:return l=e.sent,e.next=11,l.json();case 11:if(!(o=e.sent).error){e.next=14;break}throw new Error(o.error.message);case 14:return e.next=16,j();case 16:return c=e.sent,e.next=19,c.redirectToCheckout({sessionId:o.id});case 19:e.sent.error,p(!1),e.next=29;break;case 24:e.prev=24,e.t0=e.catch(1),p(!1),alert("Error: ".concat((r=e.t0,(null!=(m=Error)&&"undefined"!==typeof Symbol&&m[Symbol.hasInstance]?m[Symbol.hasInstance](r):r instanceof m)?e.t0.message:String(e.t0))));case 29:case"end":return e.stop()}var r,m}),e,null,[[1,24]])})),function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function l(e){N(s,a,r,l,i,"next",e)}function i(e){N(s,a,r,l,i,"throw",e)}l(void 0)}))});return function(e){return s.apply(this,arguments)}}(),[u,h,f,t,n]));return(0,s.jsx)("form",{onSubmit:v,children:(0,s.jsxs)(y.Z,{type:"submit",disabled:u||f,className:"flex relative justify-center items-center py-3 px-5 w-full text-base font-medium text-white rounded-md border hoverUpSmall hover:brightness-125 border-transparent disabled:pointer-events-none ".concat(u&&"opacity-20"," ").concat(m),"aria-describedby":"tier-".concat(t),role:"button",children:[f&&(0,s.jsx)(w.gb,{className:"absolute left-3 animate-spin",height:"18"})," ",u?"Unavailable":"Subscribe"]})})}},12918:function(e,t,n){n(97345)},85113:function(e,t,n){"use strict";var a=n(67294);const r=a.forwardRef((function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 11l3-3m0 0l3 3m-3-3v8m0-13a9 9 0 110 18 9 9 0 010-18z"}))}));t.Z=r},74959:function(e,t,n){"use strict";var a=n(67294);const r=a.forwardRef((function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"}))}));t.Z=r},58771:function(e,t,n){"use strict";var a=n(67294);const r=a.forwardRef((function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}))}));t.Z=r},58057:function(e,t,n){"use strict";var a=n(67294);const r=a.forwardRef((function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"}))}));t.Z=r},79771:function(e,t,n){"use strict";var a=n(67294);const r=a.forwardRef((function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"}))}));t.Z=r}}]);